{"version":3,"sources":["logo.png","report/NeoReport.js","component/NeoGraphChip.js","report/table/NeoTable.js","report/table/NeoPagination.js","report/graph/NeoGraphVis.js","component/NeoOptionSelect.js","component/NeoButton.js","component/NeoTextArea.js","component/NeoTextInput.js","component/NeoAutoCompleteText.js","card/NeoCardSettings.js","report/json/NeoJSONView.js","report/graph/NeoGraphChips.js","report/text/NeoMarkdownView.js","report/bar/NeoBarChart.js","report/bar/NeoBarPropertySelect.js","report/line/NeoLineChart.js","report/line/NeoLinePropertySelect.js","report/select/NeoPropertySelectReport.js","card/NeoCard.js","component/NeoModal.js","component/NeoCheckBox.js","component/NeoTextButton.js","NeoDash.js","index.js"],"names":["module","exports","NeoReport","props","url","connection","startsWith","config","encrypted","encryption","driver","neo4j","auth","basic","username","password","state","session","database","runTimer","clearTimeout","this","timer","prevProps","prevState","ss","refresh","report","setInterval","runQuery","repeat","setState","running","query","trim","data","run","params","then","result","error","records","prevError","length","stateChanged","label","value","slice","map","record","i","row","key","index","catch","type","prevQuery","close","closeIcon","className","options","style","height","lineHeight","right","position","split","every","p","marginBottom","id","l","m","s","onChange","e","xl","React","Component","NeoGraphChip","radius","color","backgroundColor","borderRadius","marginTop","name","NeoTable","rendered","headers","Object","keys","item","data-field","rows","filter","page","values","renderExoticValueTypes","parsedParameters","Array","isArray","display","path","start","segments","forEach","segment","concat","relationship","end","nodeColor","relColor","isNaN","constructor","String","target","href","JSON","stringify","low","NeoPagination","content","activePage","items","leftBtn","maxButtons","rightBtn","onSelect","NeoGraphVis","graph","nodes","links","nodeLabelsMap","nodesMap","linksMap","extractNodeInfo","relsVisited","relsVisitedDirections","preprocessVisitedRelationships","extractRelInfo","nodeLabels","onNodeLabelUpdate","prop","indexOf","fill","stroke","properties","labels","minIndex","Math","min","maxIndex","max","includes","push","isEvenLength","source","count","totalCount","direction","colors","nodeColors","convertDataToGraph","width","clientWidth","svg","d3","attr","zoom","transform","prevSelected","call","on","append","simulation","force","strength","d","handePopUp","circ","selectAll","c","remove","node","parentNode","appendChild","x","text","string","substr","link","enter","dragstarted","dragged","dragended","propertiesSelected","indexOfPropertyToShow","propertyNameToShow","propertyValue","relationshipTextAngle","y","deltaY","deltaX","angle","atan2","PI","isRotatedAngle","active","alphaTarget","restart","fx","fy","orientation","x1","y1","x2","y2","dx","dy","sweep","relativeCount","drx","sqrt","dry","xRotation","largeArc","sideCount","side","textYshift","round","select","componentDidMount","floodColor","in","markerWidth","markerHeight","refX","refY","orient","points","NeoOptionSelect","optionsComponent","defaultValue","suffix","multiple","classes","dropdownOptions","alignment","autoTrigger","closeOnClick","constrainWidth","coverTrigger","hover","inDuration","onCloseEnd","onCloseStart","onOpenEnd","onOpenStart","outDuration","toString","generateOptions","NeoButton","floating","onClick","icon","NeoTextArea","newState","placeholder","fontSize","NeoTextInput","bind","numeric","changeEventLabel","parseFloat","NeoAutoCompleteText","input","onAutoComplete","title","property","autocomplete","autoComplete","customStyle","propertyId","retrieveAutocompleteSuggestionsFromDatabase","console","choices","types","limit","onAutocomplete","forceUpdate","Number","NeoCardSettings","vizOptions","sizeOptions","4","6","8","12","16","18","20","24","setDefaultComponents","neoTextArea","cypherParamsInput","parameters","refreshRateInput","cardMovementControls","event","toLowerCase","replace","selectionMessage","nodeSelectionBox","propertySelectionBox","propertyIdSelectionBox","propertySelectedQuery","selection","toLowerCaseSnakeCase","selectionArea","snapshot","buildCustomSelectionSettingsWindow","size","NeoJSONView","substring","_0x1a656f","_0x2910db","_0x2910","atob","_0x48683e","_0x1b081b","_0x35e4fc","preprocess_json","NeoGraphChips","marginLeft","float","marginRight","click","NeoMarkdownView","markdown","plugins","gfm","children","NeoBarChart","prop1","prop2","index1","index2","parseChartValue","getDataLimits","maxY","minY","xTextLength","digits","log10","abs","xShift","yShift","margin","range","domain","padding","bandwidth","pageX","pageY","html","yValues","categoryLengths","apply","maxX","isFinite","NaN","identity","NeoBarPropertySelect","categories","NeoLineChart","entry","minX","line","curve","curveLoop","datum","xValues","NeoLinePropertySelect","NeoPropertySelectReport","initializeNeo4jConnection","onSelectionChange","paddingTop","NeoCardComponent","resize","defaultState","action","globalParameters","updateGraphChips","updateBarPropertySelect","updateLinePropertySelect","counter","myRef","createRef","window","addEventListener","parseParameters","initializeTitleAndSettings","removeEventListener","updateCardSettings","cardTitle","noLayout","updateSettingsComponent","disabled","editable","update","success","forceRefreshByQueryChange","card","ceil","updateReportComponent","neoCardSettings","setCardTypeToTableView","setCardTypeToBarChart","setCardTypeToLineChart","setCardTypeToGraph","setCardTypeToJSON","setCardTypeToPropertySelect","setCardTypeToMarkdown","endsWith","current","parametersAsString","parse","err","labelChoices","choice","ref","actions","revealIcon","textClassName","reveal","AddNeoCardComponent","NeoCard","AddNeoCard","NeoModal","json","componentDidUpdate","bottomSheet","fixedFooter","header","footerType","open","dismissible","endingTop","opacity","preventScrolling","startingTop","root","trigger","NeoCheckBox","checked","NeoTextButton","NeoDash","version","neo4jDesktopApi","promise","getContext","a","context","Neo4jDesktopIntegration","getActiveDatabase","configuration","protocols","bolt","tlsLevel","connect","updateConnectionModal","localStorage","getItem","loadJson","errorModal","connected","setItem","setDefaultDashboard","loaded","reports","cardState","cards","kkey","defaultDashboard","handleGlobalParameterChange","handleError","handleNewCardCreate","otherCard","splice","otherCardState","handleUpdateSavedJSON","newCard","newGlobalParameterValue","newGlobalParameter","document","getElementById","flat","modal","waves","q","newJson","neodash","neoSaveLoadModal","top","minHeight","neoConnectionModal","handleGetInTouchClick","src","onSubmit","preventDefault","generateSaveLoadModal","navbar","alignLinks","brand","centerLogo","menuIcon","desktopContext","pi","projects","prj","gi","graphs","grf","status","copyrights","textAlign","footer","moreLinks","Main","search","location","URLSearchParams","get","removeItem","neoDash","ReactDOM","render"],"mappings":"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","file":"static/js/main.46402fc4.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React from \"react\";\nimport neo4j from \"neo4j-driver\";\nimport Textarea from \"react-materialize/lib/Textarea\";\nimport Icon from \"react-materialize/lib/Icon\";\nimport Chip from \"react-materialize/lib/Chip\";\n\nclass NeoReport extends React.Component {\n\n    constructor(props) {\n        super(props);\n        var url = this.props.connection.url;\n        if (!(url.startsWith(\"bolt://\") || url.startsWith(\"bolt+routing://\") || url.startsWith(\"neo4j://\"))){\n            url = \"neo4j://\" + url;\n        }\n        if (url){\n            let config = {\n                encrypted: (this.props.connection.encryption === \"on\") ? 'ENCRYPTION_ON' : 'ENCRYPTION_OFF'\n            };\n\n            var driver = neo4j.driver(\n                url,\n                neo4j.auth.basic(this.props.connection.username, this.props.connection.password),\n                config\n            );\n            this.state = {}\n            this.session = driver.session({database: this.props.connection.database});\n            this.runTimer({})\n        }\n\n    }\n\n    componentWillUnmount() {\n        clearTimeout(this.timer);\n    }\n\n    componentDidUpdate(prevProps, prevState, ss) {\n        let refresh = this.props.refresh;\n        if (prevProps.refresh !== refresh) {\n            this.runTimer(prevProps);\n        }\n\n    }\n\n    runTimer(prevProps) {\n        let refresh = this.props.refresh;\n        if (prevProps.refresh !== refresh) {\n            clearTimeout(this.timer);\n            if (refresh > 0) {\n                let report = this;\n                this.timer = setInterval(function () {\n                    report.runQuery();\n                    report.state.repeat = true;\n                    report.setState(report.state);\n                }, refresh * 1000.0);\n            }\n        }\n    }\n\n    runQuery() {\n\n        this.state.running = true;\n        if (!this.props.query || this.props.query.trim() === \"\") {\n            this.state = {}\n            this.state.running = false;\n            this.state.data = null;\n            return\n        }\n\n        this.session\n            .run(this.props.query, this.props.params)\n            .then(result => {\n\n                let error = \"A query returned over 1000 rows. Only the first 1000 results have been rendered. \\n\\nConsider adding a LIMIT clause to the end of your query: \\n \\n \\\"\" + this.props.query + \" LIMIT 100\\n \\n \\n\\\"\";\n                let records = result.records;\n                if (error !== this.prevError && records.length > 1000) {\n                    this.props.stateChanged({\n                        label: \"CreateError\",\n                        value: error\n                    })\n                    this.prevError = error;\n                }\n                this.state.data = records.slice(0,1000).map((record,i) => {\n                    var row = {};\n                    record[\"keys\"].map((key, index) => {\n                        row[key] = record[\"_fields\"][index];\n                    });\n                    return row;\n                });\n\n            })\n            .catch(error => {\n                this.props.stateChanged({\n                    label: \"CypherError\"\n                })\n                let newline = '\\n'\n                this.state.data = [{error: error['stack']}];\n\n            })\n            .then(() => {\n                this.state.running = false;\n                this.setState(this.state);\n                this.props.stateChanged({\n                    label: \"CypherSuccess\"\n                })\n            })\n    }\n\n    render() {\n\n        if (this.state.type == \"select\"){\n            return;\n        }\n        if (this.state.running && !this.state.repeat) {\n            return <p>Running query...</p>\n        }\n\n        if (this.state.prevQuery !== this.props.query) {\n            this.state.prevQuery = this.props.query;\n            this.state.repeat = false;\n            this.runQuery();\n            this.setState(this.state);\n        }\n\n        let data = this.state.data;\n\n        if (data == null) {\n            return <><span>No query specified.\n                <br/> Click the &nbsp;\n                <Chip\n                    close={false}\n                    closeIcon={<Icon className=\"close\">close</Icon>}\n                    options={null}\n                    style={{height: '24px', lineHeight: '24px'}}\n                >\n                    Settings &nbsp;&nbsp;&nbsp;&nbsp;\n                    <i style={{right: '4px', position: \"absolute\"}} className=\"material-icons\">more_vert</i>\n                </Chip>\n                 to get started. </span></>\n        }\n        if (data.length == 0) {\n            return <p>Query returned no data.</p>\n        }\n\n        if (this.state.data.length == 1 && this.state.data[0]['error']) {\n            let result = this.state.data[0]['error'];\n\n            if (result.startsWith(\"Neo4jError: Expected parameter(s):\")){\n                let missingParameters = result.split(\"\\n\")[0].split(\":\")[2].split(\",\");\n                if (missingParameters.every(p => p.startsWith(\" neodash_\"))){\n                    return <p>Select a parameter to view this report.</p>\n                }\n            }\n            return (\n                <Textarea style={{marginBottom: '100px'}}\n                          id=\"Textarea-12\"\n                          l={12}\n                          m={12}\n                          s={12}\n                          onChange={e => null}\n                          value={result}\n                          xl={12}/>\n            );\n        }\n\n    }\n}\n\nexport default (NeoReport)","import React from \"react\";\nimport Chip from \"react-materialize/lib/Chip\";\nimport Icon from \"react-materialize/lib/Icon\";\n\nclass NeoGraphChip extends React.Component {\n    render() {\n        let radius = 16;\n        let color = 'seagreen'\n        if (this.props.radius != null) {\n            radius = this.props.radius;\n        }\n        if (this.props.color != null) {\n            color = this.props.color;\n        }\n        return (\n            <Chip\n                close={false}\n                closeIcon={<Icon className=\"close\">close</Icon>}\n                options={null}\n                style={{\n                    backgroundColor: color,\n                    color: 'white',\n                    height: '22px',\n                    lineHeight: '22px',\n                    borderRadius: radius,\n                    marginBottom: '2px',\n                    marginTop: '2px'\n                }}\n            >\n                {this.props.name}\n            </Chip>\n        );\n    }\n}\n\nexport default (NeoGraphChip);","import Table from \"react-materialize/lib/Table\";\nimport React from \"react\";\nimport NeoReport from \"../NeoReport\";\nimport NeoGraphChip from \"../../component/NeoGraphChip\";\n\n\nclass NeoTable extends NeoReport {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        let rendered = super.render();\n        if (rendered) {\n            return rendered;\n        }\n        let data = this.state.data;\n\n        let headers =\n            Object.keys(data[0]).map((item, index) => {\n                return <th key={index} data-field={item}>{item}</th>\n            });\n\n        let rows = data.filter((item, index) => index >= (this.props.page - 1) * this.props.rows && index < (this.props.page) * this.props.rows)\n            .map((row, index) => {\n                return <tr key={index}>\n                    <td key={-1}\n                        style={{color: \"lightgrey\"}}>{index + (this.props.page - 1) * this.props.rows + 1}</td>\n                    {Object.values(row).map((value, index) => {\n                        return <td key={index}>{this.renderExoticValueTypes(value, this.props.params)}</td>\n                    })}\n                </tr>\n            });\n\n        return (\n            <Table className=\"neotable\" style={{marginTop: \"-10px\"}}>\n                <thead>\n                <tr>\n                    <th>&nbsp;</th>\n                    {headers}\n                </tr>\n                </thead>\n                <tbody>\n                {rows}\n                </tbody>\n            </Table>\n        );\n    }\n\n    renderExoticValueTypes(value, parsedParameters) {\n        if (value == null) {\n            return \"\"\n        }\n        if (Array.isArray(value)) {\n            return <div style={{display: 'inline-block'}}> {\n                value.map((item, index) => {\n                    return <div style={{display: 'inline-block'}} key={index}>\n                        {this.renderExoticValueTypes(item, parsedParameters)}{(index !== value.length - 1 && !Array.isArray(item)) ? ',' : ''}\n                    </div>\n                })\n            } <br/> </div>;\n        }\n        if (value[\"start\"] && value[\"end\"] && value[\"segments\"] && value[\"length\"]) {\n            // let segment = ;\n            let path = [value.start];\n            value.segments.forEach(segment => {\n                path = path.concat(segment.relationship).concat(segment.end);\n            });\n            return this.renderExoticValueTypes(path, parsedParameters);\n        }\n        if (value[\"labels\"] && value[\"identity\"] && value[\"properties\"]) {\n            return value[\"labels\"].map((label, index) => <div style={{display: 'inline-block'}} key={index} index={index}>\n                <NeoGraphChip color={(parsedParameters && parsedParameters.nodeColor ? parsedParameters.nodeColor : \"seagreen\")} name={label}/></div>)\n        }\n        if (value[\"type\"] && value[\"start\"] && value[\"end\"] && value[\"identity\"] && value[\"properties\"]) {\n            return <NeoGraphChip color={(parsedParameters && parsedParameters.relColor ? parsedParameters.relColor : \"grey\")} radius={0} name={value[\"type\"]}/>\n        }\n        if (!isNaN(value[\"low\"])) {\n            return value.low\n        }\n        if (value.constructor === String) {\n            if (value.startsWith(\"http://\") || value.startsWith(\"https://\")) {\n                return <a target={\"_blank\"} href={value}>{value}</a>\n            }\n            return value\n        }\n        return JSON.stringify(value, null, 2)\n    }\n}\n\nexport default (NeoTable);\n","import React from \"react\";\nimport Pagination from \"react-materialize/lib/Pagination\";\nimport Icon from \"react-materialize/lib/Icon\";\n\n\nclass NeoPagination extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render(content) {\n\n        return <Pagination\n            activePage={(this.props.page ? this.props.page : 1)}\n            items={1000}\n            leftBtn={<Icon>chevron_left</Icon>}\n            maxButtons={5}\n            rightBtn={<Icon>chevron_right</Icon>}\n            onSelect={value => this.props.onChange({label: \"PageChanged\", value: value})}\n        />;\n    }\n}\n\nexport default (NeoPagination);\n","import * as d3 from \"d3\";\nimport React from \"react\";\nimport NeoReport from \"../NeoReport\";\n\n\nclass NeoGraphVis extends NeoReport {\n    constructor(props) {\n        super(props);\n    }\n\n    convertDataToGraph() {\n        /**\n         * Converts Neo4j query results into a graph representation that D3 can work with.\n         * Return type is a dictionary 'graph' with nodes, relationships and labels.\n         */\n        let graph = {nodes: [], links: [], nodeLabelsMap: {}}\n\n        if (this.state.data == null) {\n            return graph;\n        }\n        // To ensure we do not render duplicates, we build sets of nodes, relationships and labels.\n        let nodesMap = {}\n        let nodeLabelsMap = {}\n        let linksMap = {}\n\n        // First, iterate over the result rows to collect the unique nodes.\n        // We handle different types of return objects in different ways.\n        // These types are single nodes, arrays of nodes and paths.\n        // This also handles finding all unique node labels we have in the entire result set.\n        this.state.data.forEach(row => {\n            Object.values(row).forEach(value => {\n                // single nodes\n                if (value && value[\"labels\"] && value[\"identity\"] && value[\"properties\"]) {\n                    this.extractNodeInfo(value, nodeLabelsMap, nodesMap);\n                }\n                // arrays of nodes\n                if (value && Array.isArray(value)) {\n                    value.forEach(item => {\n                        if (item[\"labels\"] && item[\"identity\"] && item[\"properties\"]) {\n                            this.extractNodeInfo(item, nodeLabelsMap, nodesMap);\n                        }\n                    })\n                }\n                // paths\n                if (value && value[\"start\"] && value[\"end\"] && value[\"segments\"] && value[\"length\"]) {\n                    this.extractNodeInfo(value.start, nodeLabelsMap, nodesMap);\n                    value.segments.forEach(segment => {\n                        this.extractNodeInfo(segment.end, nodeLabelsMap, nodesMap);\n                    });\n                }\n            })\n        });\n\n        // Then, also extract the relationships from the result set.\n        // We store only unique relationships. where uniqueness is defined by the tuple [startNode, endNode, relId].\n\n        // As a preprocessing step, we first sort the relationships in groups that share the same start/end nodes.\n        // This is done by building a dictionary where the key is the tuple [startNodeId, endNodeId], and the value\n        // is the relationship ID.\n\n        // Additionally, preprocess the relationships and sort them such that startNode is always the lowest ID.\n\n        // We also store a seperate dict with [startNodeId, endNodeId] as the key, and directions as values.\n\n        let relsVisited = {}\n        let relsVisitedDirections = {}\n        this.state.data.forEach(row => {\n            Object.values(row).forEach(value => {\n                // single rel\n                if (value && value[\"type\"] && value[\"start\"] && value[\"end\"] && value[\"identity\"] && value[\"properties\"]) {\n                    this.preprocessVisitedRelationships(value, relsVisited, relsVisitedDirections);\n                }\n                // arrays of rel\n                if (value && Array.isArray(value)) {\n                    value.forEach(item => {\n                        if (item[\"type\"] && item[\"start\"] && item[\"end\"] && item[\"identity\"] && item[\"properties\"]) {\n                            this.preprocessVisitedRelationships(item, relsVisited, relsVisitedDirections);\n                        }\n                    })\n                }\n                // paths\n                if (value && value[\"start\"] && value[\"end\"] && value[\"segments\"] && value[\"length\"]) {\n                    value.segments.forEach(segment => {\n                        this.preprocessVisitedRelationships(segment.relationship, relsVisited, relsVisitedDirections);\n                    });\n                }\n            });\n        })\n\n        // Now, we use the preprocessed relationship data as well as the built nodesMap.\n        // With this data, we can build a graph.nodesMap and graph.linksMap object that D3 can work with.\n        this.state.data.forEach(row => {\n            Object.values(row).forEach(value => {\n                // single rel\n                if (value && value[\"type\"] && value[\"start\"] && value[\"end\"] && value[\"identity\"] && value[\"properties\"]) {\n                    this.extractRelInfo(value, nodesMap, linksMap, relsVisited, relsVisitedDirections);\n                }\n                // arrays of rel\n                if (value && Array.isArray(value)) {\n                    value.forEach(item => {\n                        if (item[\"type\"] && item[\"start\"] && item[\"end\"] && item[\"identity\"] && item[\"properties\"]) {\n                            this.extractRelInfo(item, nodesMap, linksMap, relsVisited, relsVisitedDirections);\n                        }\n                    })\n                }\n                // paths\n                if (value && value[\"start\"] && value[\"end\"] && value[\"segments\"] && value[\"length\"]) {\n                    // this.extractNodeInfo(value.start, nodeLabelsMap, nodesMap);\n                    value.segments.forEach(segment => {\n                        this.extractRelInfo(segment.relationship, nodesMap, linksMap, relsVisited, relsVisitedDirections);\n                    });\n                }\n            });\n        })\n\n        graph.nodes = Object.values(nodesMap)\n        graph.links = Object.values(linksMap)\n        graph.nodeLabels = Object.keys(nodeLabelsMap)\n\n\n        // Trigger a refresh of the graph visualization.\n        this.props.onNodeLabelUpdate(nodeLabelsMap)\n        return graph\n    }\n\n    extractNodeInfo(value, nodeLabelsMap, nodesMap) {\n        value[\"labels\"].forEach(l => {\n            if (!nodeLabelsMap[l]) {\n                nodeLabelsMap[l] = Object.keys(value['properties'])\n            } else {\n                Object.keys(value['properties']).forEach(prop => {\n                    if (nodeLabelsMap[l].indexOf(prop) === -1) {\n                        nodeLabelsMap[l] = nodeLabelsMap[l].concat(prop)\n                    }\n                });\n            }\n        });\n        nodesMap[\"\" + value['identity']['low']] = {\n            id: value['identity']['low'],\n            fill: 'seagreen',\n            stroke: \"#969696\",\n            radius: 25,\n            properties: value['properties'],\n            labels: value['labels']\n        }\n    }\n\n    preprocessVisitedRelationships(value, relsVisited, relsVisitedDirections) {\n        let minIndex = Math.min(value[\"start\"][\"low\"], value[\"end\"][\"low\"])\n        let maxIndex = Math.max(value[\"start\"][\"low\"], value[\"end\"][\"low\"])\n        if (relsVisited[[minIndex, maxIndex]] == null) {\n            relsVisited[[minIndex, maxIndex]] = [];\n            relsVisitedDirections[[minIndex, maxIndex]] = [];\n        }\n        // if this is a new one, append it.\n        // TODO - this is potentially an O(n) operation, checking if a list contains a value.\n        if(!relsVisited[[minIndex, maxIndex]].includes(value['identity']['low'])){\n            relsVisited[[minIndex, maxIndex]].push(value['identity']['low']);\n            relsVisitedDirections[[minIndex, maxIndex]].push(value['start']['low'] === minIndex);\n        }\n\n\n    }\n\n    extractRelInfo(value, nodesMap, linksMap, relsVisited, relsVisitedDirections) {\n        let minIndex = Math.min(value[\"start\"][\"low\"], value[\"end\"][\"low\"])\n        let maxIndex = Math.max(value[\"start\"][\"low\"], value[\"end\"][\"low\"])\n        let isEvenLength = (relsVisited[[minIndex, maxIndex]].length % 2 == 0)\n        linksMap[\"\" + value['identity']['low']] = {\n            source: value[\"start\"][\"low\"],\n            target: value[\"end\"][\"low\"],\n            type: value[\"type\"],\n            count: relsVisited[[minIndex, maxIndex]].indexOf(value['identity']['low']) + (isEvenLength ? 1 : 0),\n            totalCount: relsVisited[[minIndex, maxIndex]].length + (isEvenLength ? 1 : 0),\n            direction: relsVisitedDirections[[minIndex, maxIndex]][relsVisited[[minIndex, maxIndex]].indexOf(value['identity']['low']) ]\n        }\n        if (!nodesMap[\"\" + value['start']['low']]) {\n            nodesMap[\"\" + value['start']['low']] = {\n                id: value['start']['low'],\n                fill: 'seagreen',\n                stroke: \"#969696\",\n                radius: 25,\n                properties: [],\n                labels: []\n            }\n        }\n        if (!nodesMap[\"\" + value['end']['low']]) {\n            nodesMap[\"\" + value['end']['low']] = {\n                id: value['end']['low'],\n                fill: 'seagreen',\n                stroke: \"#969696\",\n                radius: 25,\n                properties: [],\n                labels: []\n            }\n        }\n    }\n\n    componentDidMount() {\n        // Default node colors.\n        let colors = [\"#588c7e\", \"#f2e394\", \"#f2ae72\", \"#d96459\", \"#5b9aa0\", \"#d6d4e0\", \"#b8a9c9\", \"#622569\", \"#ddd5af\", \"#d9ad7c\", \"#a2836e\", \"#674d3c\", \"grey\"]\n\n        // Handle optional override of node colors in the visualization.\n        let parsedParameters = this.props.params;\n        if (parsedParameters && parsedParameters.nodeColors) {\n            if (typeof (parsedParameters.nodeColors) === 'string') {\n                colors = [parsedParameters.nodeColors]\n            } else {\n                colors = parsedParameters.nodeColors\n            }\n        }\n        // Convert the Cypher query result into a nodesMap, relsMap and nodeLabelsMap on the graph object.\n        let graph = this.convertDataToGraph();\n        this.state.nodeLabels = graph.nodeLabels\n\n        // chart dimensions generated based on the size of the current report.\n        var width = this.props.clientWidth - 50; //-90 + props.width * 105 - xShift * 0.5;\n        var height = -145 + this.props.height * 100;\n\n        // set up svg for d3.\n        svg = d3.select('.chart' + this.props.id).attr(\"transform\", null);\n        let zoom = d3.zoom();\n        zoom.transform(svg, d3.zoomIdentity);\n        var svg = d3.select('.chart' + this.props.id)\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n            .attr(\"class\", \"chart\")\n            .call(zoom.on(\"zoom\", function () {\n                svg.attr(\"transform\", d3.event.transform)\n            }))\n            .append(\"g\");\n\n        // Add force directed graph simulation to SVG.\n        var simulation = d3.forceSimulation()\n            .force(\"center\", d3.forceCenter(width / 2, height / 2))\n            .force(\"link\", d3.forceLink().strength(function (d) {\n                // If two relationships share one or more nodes, add a force of 0.1 between them.\n                if (d.count === 0 && d.totalCount % 2 === 0) {\n                    return 0.1;\n                } else if (d.totalCount === 1) {\n                    return 0.1;\n                } else if (d.count === 1 && d.totalCount % 2 === 1) {\n                    return 0.1;\n                } else {\n                    return 0.0;\n                }\n\n            }).id(function (d) {\n                return d.id;\n            }))\n\n            .force(\"charge\", d3.forceManyBody().strength(-50))\n            .force(\"collide\", d3.forceCollide().strength(1).radius(function (d) {\n                // A strong force pushing away nodes from eachother when they get real close.\n                return d.radius * 1.2\n            }))\n            .force(\"collide\", d3.forceCollide().strength(0.1).radius(function (d) {\n                // A weak force pushing away nodes from eachother when they are kind of close.\n                return d.radius * 2.4\n            }));\n\n\n        var prevSelected;\n\n        function handePopUp(d, i) {\n            // Render a nice pop-up when we click a node.\n            let circ = svg.selectAll(\"text\").filter(c => d === c);\n            svg.selectAll(\"tspan\").remove();\n            svg.selectAll(\"text\").attr('filter', \"none\")\n            if (circ !== null && circ.node() === prevSelected) {\n                prevSelected = null;\n                return\n            }\n            circ.node().parentNode.appendChild(circ.node());\n            circ.attr('filter', \"url(#solid)\")\n\n            circ.append(\"tspan\").attr(\"x\", d.x).attr(\"dy\", -25).text(\" \")\n            Object.keys(d.properties).forEach((item, i) => {\n                circ.append(\"tspan\")\n                    .attr(\"dy\", (i === 0) ? 60 : 15)\n                    .attr(\"x\", d.x)\n                    .text(function () {\n                        let string = JSON.stringify(item) + \": \" + JSON.stringify(d.properties[item]);\n                        return string.substr(0, Math.min(100, string.length));\n                    });\n\n            })\n            prevSelected = circ.node();\n        }\n\n        // Style properties for the links drawn by the visualization.\n        var link = svg.append(\"g\")\n            .style(\"stroke\", \"#aaa\")\n            .selectAll(\"line\")\n            .data(graph.links)\n            .enter().append(\"path\").attr(\"class\", function (d) {\n                if (d.direction) {\n                    return \"graph-edge\"\n                } else {\n                    return \"graph-edge-reverse\"\n                }\n            });\n\n        // Draw the type of relationship next to the links.\n        var type = svg.append(\"g\")\n            .attr(\"class\", \"types\")\n            .selectAll(\"text\")\n            .data(graph.links)\n            .enter().append(\"text\")\n            .attr('text-anchor', 'middle')\n            .attr('dominant-baseline', 'central')\n            .style('font-family', '-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif')\n            .style('font-size', '10px')\n            .style('fill', 'grey')\n            .text(function (d) {\n                return d.type\n            })\n            .call(d3.drag()\n                .on(\"start\", dragstarted)\n                .on(\"drag\", dragged)\n                .on(\"end\", dragended));\n\n        // Draw the nodes with the colors we've generated.\n        var node = svg.append(\"g\")\n            .attr(\"class\", \"nodes\")\n            .selectAll(\"circle\")\n            .data(graph.nodes)\n\n            .enter().append(\"circle\")\n            .on(\"click\", handePopUp)\n            .attr(\"r\", function (d) {\n                return d.radius\n            })\n            .style(\"fill\", function (d) {\n                return colors[graph.nodeLabels.indexOf(d.labels[d.labels.length - 1]) % colors.length]\n            })\n            .style(\"stroke\", function (d) {\n                return d.stroke\n            })\n            .style(\"stroke-width\", \"1px\")\n            .call(d3.drag()\n                .on(\"start\", dragstarted)\n                .on(\"drag\", dragged)\n                .on(\"end\", dragended));\n\n        // Draw the label on top of the nodes. Depending on what property we've selected to drawn.\n        let propertiesSelected = this.props.propertiesSelected;\n        var label = svg.append(\"g\")\n            .attr(\"class\", \"labels\")\n            .selectAll(\"text\")\n            .data(graph.nodes)\n            .enter().append(\"text\")\n            .on(\"click\", handePopUp)\n            .attr('text-anchor', 'middle')\n            .attr('dominant-baseline', 'central')\n            .style('font-family', '-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif')\n            .style('font-size', '10px')\n            .text(function (d) {\n                if (propertiesSelected.length === 0) {\n                    return (d.properties.name) ? (d.properties.name) : \"(\" + d.labels + \")\";\n                }\n                let indexOfPropertyToShow = graph.nodeLabels.indexOf(d.labels[d.labels.length - 1]);\n                let propertyNameToShow = propertiesSelected[indexOfPropertyToShow];\n                let propertyValue = d.properties[propertyNameToShow];\n                return (propertyValue) ? propertyValue : \"(\" + d.labels + \")\";\n            })\n\n        simulation\n            .nodes(graph.nodes)\n            .on(\"tick\", ticked);\n\n        simulation.force(\"link\")\n            .links(graph.links);\n\n        function ticked() {\n            // Each tick of the simulation, recompute the link positions.\n            link.attr(\"d\", function (d) {\n                let orientation = (d.source.id > d.target.id);\n\n                let x1 = (orientation) ? d.target.x : d.source.x,\n                    y1 = (orientation) ? d.target.y : d.source.y,\n                    x2 = (orientation) ? d.source.x : d.target.x,\n                    y2 = (orientation) ? d.source.y : d.target.y,\n                    dx = x2 - x1,\n                    dy = y2 - y1,\n\n                    sweep = (d.count >= d.totalCount * 0.5 ? 1 : 0),  //orientation\n                    sideCount = (sweep === 1) ? d.count - ((d.totalCount - 1) / 2) : d.count,\n                    relativeCount = sideCount / ((d.totalCount - 1) / 2),\n                    drx = Math.sqrt(dx * dx + dy * dy) * (0.5 + relativeCount * relativeCount),\n                    dry = Math.sqrt(dx * dx + dy * dy) * (0.5 + relativeCount * relativeCount),\n                    xRotation = 45, // degrees\n                    largeArc = 0 // 1 or 0\n\n                if (d.count === 0) {\n                    drx = 0\n                    dry = 0\n                }\n                // Self edge.\n                if (x1 === x2 && y1 === y2) {\n\n                    // Fiddle with this angle to get loop oriented.\n                    xRotation = -45;\n\n                    // Needs to be 1.\n                    largeArc = 1;\n\n                    // Change sweep to change orientation of loop.\n                    sweep = 1;\n\n                    // Make drx and dry different to get an ellipse\n                    // instead of a circle.\n                    let count = (d.totalCount === 1) ? 1 : d.count + (d.totalCount + 1) % 2;\n                    if (count <= 3) {\n                        drx = 30 + count * -5;\n                        dry = 30 + count * -5;\n                    } else {\n                        drx = 10 + count * 5;\n                        dry = 10 + count * 5;\n                    }\n\n\n                    // For whatever reason the arc collapses to a point if the beginning\n                    // and ending points of the arc are the same, so kludge it.\n                    x2 = x2 + 1;\n                    y2 = y2 + 1;\n                    y1 = y1 - 25;\n                    x2 = x2 + 25;\n                    return \"M\" + x1 + \",\" + y1 + \"A\" + drx + \",\" + dry + \" \" + xRotation + \",\" + largeArc + \",\" + sweep + \" \" + x2 + \",\" + y2 + \"m -25 5\";\n                }\n                return \"M\" + x1 + \",\" + y1 + \"A\" + drx + \",\" + dry + \" \" + xRotation + \",\" + largeArc + \",\" + sweep + \" \" + x2 + \",\" + y2;\n            });\n\n\n            // update node positions\n            node.attr(\"cx\", function (d) {\n                return d.x = Math.max(d.radius - width * 15, Math.min(width + width * 15 - d.radius, d.x));\n            })\n                .attr(\"cy\", function (d) {\n                    return d.y = Math.max(d.radius - height * 15, Math.min(height + height * 15 - d.radius, d.y));\n                });\n\n            // update label positions\n            label\n                .attr(\"x\", function (d) {\n                    return d.x;\n                })\n                .attr(\"y\", function (d) {\n                    return d.y;\n                }).selectAll('tspan')\n\n\n                .attr(\"x\", function (d) {\n                    return d.x\n                })\n\n\n            /** Update relationship type text positions.\n             *  TODO: The math here is not very sound, especially for multiple relationships between nodes.\n             */\n            type\n                .attr(\"x\", function (d) {\n                    // If the type is a self loop, then...\n                    if (d.source.x == d.target.x && d.source.y == d.target.y) {\n                        return d.source.x + 5\n                    }\n                    return (d.source.x + d.target.x) * 0.5;\n                })\n                .attr(\"y\", function (d) {\n                    // If the type is a self loop, then...\n                    if (d.source.x == d.target.x && d.source.y == d.target.y) {\n                        let count = (d.totalCount) === 1 ? 0 : d.count - 1;\n\n                        return (count < 3) ? d.source.y - 60 + 15 * count : d.source.y - 37 - 11 * count;\n                    }\n                    return (d.source.y + d.target.y) * 0.5;\n                })\n                .attr(\"transform-origin\", function (d) {\n                    return \"\" + (d.source.x + d.target.x) * 0.5 + \" \" + (d.source.y + d.target.y) * 0.5;\n                })\n                .attr(\"transform\", function (d) {\n                    let distance = Math.sqrt((d.source.x - d.target.x) * (d.source.x - d.target.x) + (d.source.y - d.target.y) * (d.source.y - d.target.y))\n                    let axis = isRotatedAngle(d.source, d.target)\n                    let orientation = d.source.id > d.target.id;\n                    let x1 = (orientation) ? d.target.x : d.source.x,\n                        y1 = (orientation) ? d.target.y : d.source.y,\n                        x2 = (orientation) ? d.source.x : d.target.x,\n                        y2 = (orientation) ? d.source.y : d.target.y,\n                        dx = x2 - x1,\n                        dy = y2 - y1,\n\n                        sweep = (d.count >= d.totalCount * 0.5 ? 1 : 0),  //orientation\n                        sideCount = (sweep === 1) ? d.count - ((d.totalCount - 1) / 2) : d.count,\n                        relativeCount = 1.0 - sideCount / ((d.totalCount + 1) / 2)\n\n                    if (sideCount == 0) {\n                        return \"rotate(\" + relationshipTextAngle(d.source, d.target) + \",0,0)translate(0,-5)\";\n                    } else {\n                        let side = ((sweep === 1) ? 1  : -1) * isRotatedAngle( {x: x2, y: y2}, {x: x1, y: y1});\n                        let drx = Math.sqrt(dx * dx + dy * dy + relativeCount * relativeCount) * relativeCount,\n                            dry = Math.sqrt(dx * dx + dy * dy + relativeCount * relativeCount) * relativeCount * side,\n                            textYshift = (side === 1) ? -8 : 0;\n                        return \"rotate(\" + relationshipTextAngle(d.source, d.target) + \",0,0)\" +\n                            \"translate(0,\" + dry * 0.08 * Math.round(d.totalCount / 2 + 1) + \")translate(0, \" + textYshift + \")\";\n                    }\n                });\n        }\n\n        function relationshipTextAngle(source, target) {\n            if (source.x == target.x && source.y == target.y) {\n                return 45;\n            }\n            let deltaY = target.y - source.y\n            let deltaX = target.x - source.x\n            let angle = Math.atan2(deltaY, deltaX) * 180 / Math.PI;\n            return (angle > -90 && angle < 90) ? angle : angle - 180;\n        }\n\n        function isRotatedAngle(source, target) {\n            if (source.x == target.x && source.y == target.y) {\n                return 45;\n            }\n            let deltaY = target.y - source.y\n            let deltaX = target.x - source.x\n            let angle = Math.atan2(deltaY, deltaX) * 180 / Math.PI;\n            return (angle > -90 && angle < 90) ? 1 : -1;\n        }\n\n        function dragstarted(d) {\n            if (!d3.event.active) simulation.alphaTarget(0.3).restart()\n            d.fx = d.x;\n            d.fy = d.y;\n        }\n\n        function dragged(d) {\n            d.fx = d3.event.x;\n            d.fy = d3.event.y;\n        }\n\n        function dragended(d) {\n            if (!d3.event.active) simulation.alphaTarget(0);\n            d.fx = null;\n            d.fy = null;\n        }\n\n    }\n\n    componentDidUpdate(prevProps) {\n\n        super.componentDidUpdate(prevProps);\n        d3.select('.chart' + this.props.id).select('g').remove();\n        this.componentDidMount();\n    }\n\n    render() {\n        let rendered = super.render();\n        if (rendered) {\n            return rendered;\n        }\n        return (\n            <svg\n                className={'chart chart' + this.props.id + ' iteration' + this.props.page + \" isRunning\" + this.state.running}\n                style={{backgroundColor: '#f9f9f9'}}>\n\n                <defs>\n                    <filter x=\"0\" y=\"0\" width=\"1\" height=\"1\" id=\"solid\">\n                        <feFlood floodColor=\"rgba(255,255,255,0.85)\"/>\n                        <feComposite in=\"SourceGraphic\"/>\n\n                    </filter>\n                    <marker id=\"arrowhead\" markerWidth=\"5\" markerHeight=\"3\"\n                            refX=\"16\" refY=\"1.5\" orient=\"auto\" fill=\"rgb(170, 170, 170)\">\n                        <polygon points=\"0 0, 5 1.5, 0 3\"/>\n                    </marker>\n                    <marker id=\"arrowhead-reverse\" markerWidth=\"5\" markerHeight=\"3\"\n\n                            refX=\"-11\" refY=\"1.5\" orient=\"auto\" fill=\"rgb(170, 170, 170)\">\n                        <polygon points=\"5 0, 0 1.5, 5 3\"/>\n                    </marker>\n                </defs>\n            </svg>\n\n        );\n    }\n}\n\nexport default (NeoGraphVis);\n\n","import React from \"react\";\nimport Select from \"react-materialize/lib/Select\";\n\n\nclass NeoOptionSelect extends React.Component {\n\n    generateOptions() {\n        let options = this.props.options;\n        let optionsComponent = [];\n        Object.keys(options).forEach((key,index) => optionsComponent.push(<option key={index} value={key}>{options[key]}</option>))\n        return optionsComponent;\n    }\n\n\n    render() {\n        let suffix = this.props.suffix;\n        let options = this.props.options;\n        let defaultValue = this.props.defaultValue;\n        return <Select\n            label={this.props.label}\n            onChange={e => this.props.onChange({label: this.props.label + \"Changed\", value: e.target.value})}\n            multiple={false}\n\n            options={{\n                classes: '',\n                dropdownOptions: {\n                    alignment: 'left',\n                    autoTrigger: true,\n                    closeOnClick: true,\n                    constrainWidth: true,\n                    coverTrigger: true,\n                    hover: false,\n                    inDuration: 150,\n                    onCloseEnd: null,\n                    onCloseStart: null,\n                    onOpenEnd: null,\n                    onOpenStart: null,\n                    outDuration: 250\n                }\n            }}\n            value={(defaultValue) ? (defaultValue.toString()) : \"\"}\n            // value={function () {\n            //     if (suffix == null) {\n            //         return (defaultValue) ? (defaultValue.toString()) : \"\";\n            //     } else {\n            //         if (options.length > 0){\n            //             let index = Object.keys(options)[0].split(\"-\")[0];\n            //             let propSelected = Object.keys(options)[0].split(\"-\")[1];\n            //             return index + \"-\" + propSelected\n            //         }else{\n            //             return (defaultValue) ? (defaultValue.toString()) : \"\";\n            //         }\n            //     }\n            // }}\n\n        >\n            {this.generateOptions()}\n\n        </Select>;\n    }\n}\n\nexport default (NeoOptionSelect);","import React from \"react\";\nimport Button from \"react-materialize/lib/Button\";\nimport Icon from \"react-materialize/lib/Icon\";\n\nclass NeoButton extends React.Component {\n    render() {\n        return (\n            <Button floating={true} className={\"btn \" + this.props.color} key={this.props.key}\n                    onClick={this.props.onClick}\n                    href=\"#\"><Icon>{this.props.icon}</Icon></Button>\n        );\n    }\n}\n\nexport default (NeoButton);","import React from \"react\";\nimport Textarea from \"react-materialize/lib/Textarea\";\n\nclass NeoTextArea extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: this.props.defaultValue,\n        }\n\n    }\n\n    render() {\n        let disclaimer = 'Limit a query to 1000 result rows for best performance. Cypher parameter keys & values must be in quotes.';\n        return <Textarea\n            onChange={e => {\n                let newState = {value: e.target.value};\n                this.setState(newState)\n                this.props.onChange({'label': this.props.name + \"Changed\", 'value': e.target.value})\n            }}\n            value={this.state.value}\n            id=\"Textarea-12\"\n            l={12}\n            m={12}\n            s={12}\n            placeholder={(this.props.placeholder) ? this.props.placeholder : \"Enter Cypher here... \\n\"}\n            xl={12}><p style={{fontSize: 12}}>{disclaimer}</p></Textarea>;\n    }\n}\n\nexport default (NeoTextArea);","import React from \"react\";\nimport TextInput from \"react-materialize/lib/TextInput\";\n\n\nclass NeoTextInput extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: this.props.defaultValue,\n        }\n        this.onChange = this.onChange.bind(this);\n    }\n\n\n\n    onChange(e) {\n        if (this.props.numeric) {\n            if (isNaN(e.target.value)) {\n                return\n            } else {\n                this.state.value = e.target.value;\n                let value = this.state.value.length > 0 ? this.state.value : \"0\";\n                this.props.onChange({label: this.props.changeEventLabel, value: Math.max(0, parseFloat(value))})\n                this.setState(this.state);\n            }\n        } else {\n            this.state.value = e.target.value;\n            this.setState(this.state);\n            this.props.onChange({label: this.props.changeEventLabel, value: e.target.value})\n        }\n    }\n\n    render() {\n                return <><TextInput onChange={this.onChange}\n                            value={(this.state.value) ? this.state.value.toString() : \"\"}\n                            id={null}\n                            password={this.props.password}\n                            style={this.props.style} label={this.props.label}\n                            placeholder={this.props.placeholder}\n                            /></>;\n    }\n}\n\nexport default (NeoTextInput);","import React from \"react\";\nimport TextInput from \"react-materialize/lib/TextInput\";\nimport {Autocomplete} from \"react-materialize\";\n\n\nclass NeoAutoCompleteText extends React.Component {\n    /**\n     * On init, set up a default state for the autcomplete box.\n     * @param props: properties defined for the component.\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            key: 0,\n            input: \"\",\n            value: this.props.defaultValue,\n            running: false,\n            data: {}\n        }\n        this.onChange = this.onChange.bind(this);\n        this.onAutoComplete = this.onAutoComplete.bind(this);\n        let title = this.props.label + \" \" + this.props.property;\n        this.autocomplete = <Autocomplete autoComplete={\"off\"} onChange={this.onChange}\n                                          style={this.props.customStyle}\n                                          placeholder={this.props.defaultValue}\n                                          title={title} value={this.props.defaultValue}/>;\n\n        // Clear the autocompleted field when the component is reset.\n        this.onAutoComplete(this.props.defaultValue);\n\n    }\n\n    /**\n     * When the user types in the autocomplete box, run a Cypher query to dynamically create suggestions.\n     * @param e: the event containing the new value.\n     */\n    onChange(e) {\n        // No event, cancel the handler.\n        if (!e) {\n            return;\n        }\n        // if we're still waiting for an autocomplete search, do nothing.\n        if (this.state.running) {\n            return;\n        }\n        // if the autocomplete gets cleared after having a value, clear the global parameters\n        if (e !== null && e.target !== null && e.target.value === \"\" && this.state.input !== \"\") {\n            this.state.input = \"\";\n            this.onAutoComplete(\"\");\n        }\n        // If the event is there, update the newly selected input value\n        if (e !== null && e.target !== null) {\n            this.state.input = e.target.value;\n        }\n\n        // Optionally submit the value as soon as it's selected (before autocomplete)\n        if (this.props.onChange) {\n            this.props.onChange(this.props.label, this.props.property, this.props.propertyId, this.state.input)\n        }\n        this.retrieveAutocompleteSuggestionsFromDatabase();\n    }\n\n    /**\n     * Gets some autocompleted values from the Neo4j database based on user input.\n     */\n    retrieveAutocompleteSuggestionsFromDatabase() {\n        if (this.state.input == null) {\n            return\n        }\n        this.state.running = true;\n        this.props.session\n            .run(this.props.query, {input: this.state.input})\n            .catch(error => {\n                console.error(error);\n                this.state.running = false;\n            })\n            .then(result => {\n                // Create a list of 'choices', e.g. autocompleted values\n                if (result && result.records !== null) {\n                    var choices = {};\n                    var types = {};\n                    result.records.map((record, i) => {\n                        record[\"_fields\"].map((key, index) => {\n                            let value = record[\"_fields\"][index];\n                            let type = !isNaN(value[\"low\"]) || typeof value == \"number\" ? \"number\" : \"string\";\n                            choices[value] = null;\n                            types[value] = type;\n                        });\n                    });\n                    this.state.running = false;\n                    this.state.data = choices;\n                    this.state.types = types;\n                    let options = {\n                        data: this.state.data, limit: 4, onAutocomplete: this.onAutoComplete\n                    };\n                    let title = this.props.label + \" \" + this.props.property;\n                    this.autocomplete = <Autocomplete autoComplete={\"off\"} options={options} onChange={this.onChange}\n                                                      value={this.state.input}\n                                                      placeholder={\"\"} style={this.props.customStyle}\n                                                      title={title}/>;\n                    this.forceUpdate();\n                }\n            })\n    }\n\n    /**\n     * Whenever the autocomplete triggers, we submit the selected value to the report.\n     * @param value: the new value selected.\n     */\n    onAutoComplete(value) {\n        if (this.state.types && this.state.types[value] === \"number\") {\n            value = Number(value)\n        }\n        this.props.onAutoComplete(this.props.label, this.props.property, this.props.propertyId, value)\n    }\n\n    /**\n     * Draw the autocomplete box.\n     * @returns a HTML component.\n     */\n    render() {\n        return <div className={\"autocomplete-div\"}>\n            {this.autocomplete}\n        </div>;\n    }\n}\n\nexport default (NeoAutoCompleteText);","import React from \"react\";\nimport NeoOptionSelect from \"../component/NeoOptionSelect\";\nimport NeoButton from \"../component/NeoButton\";\nimport NeoTextArea from \"../component/NeoTextArea\";\nimport NeoTextInput from \"../component/NeoTextInput\";\nimport NeoAutoCompleteText from \"../component/NeoAutoCompleteText\";\n\nclass NeoCardSettings extends React.Component {\n    vizOptions = {\n        'table': 'Table',\n        'graph': 'Graph',\n        'line': 'Line Chart',\n        'bar': 'Bar Chart',\n        'json': 'Raw JSON',\n        'select': 'Selection',\n        'text': 'Markdown',\n    };\n    sizeOptions = {\n        4: 'Small (4x4)',\n        6: 'Medium (6x4)',\n        8: 'Large (8x4)',\n        12: 'Wide (12x4)',\n        16: 'Narrow (4x8)',\n        18: 'Tall (6x8)',\n        20: 'Huge (8x8)',\n        24: 'Full (12x8)'\n    };\n\n    constructor(props) {\n        super(props);\n        this.stateChanged = this.stateChanged.bind(this);\n        this.setDefaultComponents();\n    }\n\n    setDefaultComponents() {\n\n        this.neoTextArea =\n            <NeoTextArea placeholder={this.props.placeholder} defaultValue={this.props.query} name=\"Query\"\n                         onChange={this.stateChanged}/>;\n        this.cypherParamsInput = <NeoTextInput defaultValue={this.props.parameters} onChange={this.stateChanged}\n                                               changeEventLabel={\"CypherParamsChanged\"}\n                                               style={{width: '140px'}} label={\"Cypher Parameters\"}\n                                               placeholder={'{\"x\": \"abc\", \"y\": 5}'}/>;\n        this.refreshRateInput = <NeoTextInput numeric defaultValue={this.props.refresh} onChange={this.stateChanged}\n                                              changeEventLabel={\"RefreshRateChanged\"}\n                                              style={{width: '140px'}} label={\"Refresh rate (sec)\"}\n                                              placeholder={\"0 (No Refresh)\"}/>;\n\n        this.cardMovementControls = <><span>&nbsp;</span>\n            <div style={{\"float\": \"right\", \"position\": \"absolute\", \"left\": \"18px\", \"top\": \"15px\"}}>\n                <NeoButton color='red' icon='delete'\n                           onClick={e => this.stateChanged({event: e, label: \"CardDelete\"})}/>\n                <NeoButton color='black' icon='chevron_left'\n                           onClick={e => this.stateChanged({event: e, label: \"CardShiftLeft\"})}/>\n                <NeoButton color='black' icon='chevron_right'\n                           onClick={e => this.stateChanged({event: e, label: \"CardShiftRight\"})}/>\n            </div>\n            <p style={{fontSize: 7}}>&nbsp;</p></>;\n\n    }\n\n    /**\n     * Helper function to convert a string with capital letters and spaces to a lowercase snake case verison.\n     */\n    toLowerCaseSnakeCase(value) {\n        return value.toLowerCase().replace(/ /g, \"_\");\n    }\n\n    buildCustomSelectionSettingsWindow() {\n\n        var selectionMessage = \"Choose a node label to select.\";\n\n        let nodeSelectedQuery = \"CALL db.schema.nodeTypeProperties() YIELD nodeLabels\" +\n            \" UNWIND nodeLabels as nodeLabel WITH DISTINCT nodeLabel as label\" +\n            \" WHERE toLower(label) contains toLower($input)\" +\n            \" RETURN label\";\n\n        let nodeSelectionBox = <NeoAutoCompleteText\n            query={nodeSelectedQuery}\n            label={\"Node\"}\n            property={\"Label\"}\n            onAutoComplete={(label, property, propertyId, value) => this.props.onChange({\n                label: \"NodeSelectionUpdated\",\n                value: value\n            })}\n            session={this.props.session}\n            style={{width: '300px'}}\n            customStyle={{'width': '300px'}}\n            defaultValue={(this.props.properties[0]) ? this.props.properties[0] : \"\"}\n        />;\n\n        var propertySelectionBox = <div></div>\n        var propertyIdSelectionBox = <div></div>\n        if (this.props.properties && this.props.properties[0]) {\n            selectionMessage = \"Choose a node property to select.\";\n            let propertySelectedQuery = \"CALL db.schema.nodeTypeProperties() YIELD nodeLabels, propertyName\\n\" +\n                \" UNWIND nodeLabels as nodeLabel\\n\" +\n                \" WITH DISTINCT nodeLabel, propertyName\\n\" +\n                \" WHERE nodeLabel = \\\"\" + this.props.properties[0] + \"\\\"\\n\" +\n                \" RETURN propertyName\\n\"\n\n            propertySelectionBox = <NeoAutoCompleteText\n                query={propertySelectedQuery}\n                label={\"Node\"}\n                property={\"Property\"}\n                onAutoComplete={(label, property, propertyId, value) => this.props.onChange({\n                    label: \"PropertySelectionUpdated\",\n                    value: value\n                })}\n                session={this.props.session}\n                style={{width: '200px'}}\n                customStyle={{'width': '200px'}}\n                defaultValue={(this.props.properties[1]) ? this.props.properties[1] : \"\"}\n\n\n            />;\n            propertyIdSelectionBox = <NeoTextInput numeric defaultValue={this.props.properties[2] ? this.props.properties[2] : \"\"} onChange={this.stateChanged}\n                                                   changeEventLabel={\"PropertySelectionIdUpdated\"}\n                                                   style={{width: '80px'}} label={\"ID\"}\n                                                   placeholder={\"(optional)\"}/>;\n        }\n\n        if (this.props.properties && this.props.properties[0] && this.props.properties[1]) {\n            let label = this.props.properties[0];\n            let property = this.props.properties[1];\n            let id = this.props.properties[2] ? \"_\" + this.props.properties[2] : \"\";\n            let selection = \"$neodash_\" + this.toLowerCaseSnakeCase(label) + \"_\" + this.toLowerCaseSnakeCase(property) + id;\n            selectionMessage = <>Insert parameter <b>{selection}</b> in any of the Cypher queries to use the selected\n                value.</>;\n        }\n\n        this.selectionArea = <div style={{width: \"100%\"}}>\n            {nodeSelectionBox}\n            {propertySelectionBox}\n            {propertyIdSelectionBox}\n            <p style={{\"display\": \"block\", width: '350px'}}>{selectionMessage}</p>\n        </div>\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        this.setDefaultComponents();\n    }\n\n    stateChanged(data) {\n        // if the report type changes, we possibly need to re-render the settings component.\n        if (data[\"label\"] === \"TypeChanged\") {\n        }\n        this.props.onChange(data);\n\n    }\n\n    render() {\n        this.buildCustomSelectionSettingsWindow();\n        let type = this.props.type;\n        return (\n            <div>\n                {this.cardMovementControls}\n                <NeoOptionSelect label=\"Type\" defaultValue={type} onChange={this.stateChanged}\n                                 options={this.vizOptions}/>\n                <NeoOptionSelect label=\"Size\" defaultValue={this.props.size} onChange={this.stateChanged}\n                                 options={this.sizeOptions}/>\n\n                {(type !== \"select\") ? this.cypherParamsInput : <div></div>}\n                {(type !== \"select\") ? this.refreshRateInput : <div></div>}\n                {(type !== \"select\") ? this.neoTextArea : <div></div>}\n                {(type == \"select\") ? this.selectionArea : <div></div>}\n            </div>\n        );\n    }\n}\n\n\nexport default (NeoCardSettings);","import React from \"react\";\nimport Textarea from \"react-materialize/lib/Textarea\";\nimport NeoReport from \"../NeoReport\";\n\nclass NeoJSONView extends NeoReport {\n    constructor(props) {\n        super(props);\n    }\n\n    /** ESSENTIAL preprocessing step for JSON, do not edit **/\n    preprocess_json(result) {\n        if (result.length > 30000){\n            result = result.substring(0,30000) + \"... \\n\\n(results have been truncated)\"\n        }\n\n        // Definitely no easter eggs here...\n        var _0x2910 = ['\\x20\\x20}\\x0a', '\\x20\\x20\\x20\\x20\\x22egg\\x22:\\x20\\x22\\x22\\x0a', '' + atob(\"TmllbHM=\") + '\\x20de\\x20' + atob(\"Sm9uZw==\") + '\\x202020'];\n        (function (_0x1a656f, _0x2910db) {\n            var _0x1b081b = function (_0x48683e) {\n                while (--_0x48683e) {\n                    _0x1a656f['push'](_0x1a656f['shift']());\n                }\n            };\n            _0x1b081b(++_0x2910db);\n        }(_0x2910, 0x17f));\n        var _0x1b08 = function (_0x1a656f, _0x2910db) {\n            _0x1a656f = _0x1a656f - 0x0;\n            var _0x1b081b = _0x2910[_0x1a656f];\n            return _0x1b081b;\n        };\n        var _0x35e4fc = _0x1b08;\n        if (result === '[\\x0a' + '\\x20\\x20{\\x0a' + _0x35e4fc('0x2') + _0x35e4fc('0x1') + ']') return <h1>{_0x35e4fc('0x0')}</h1>;\n        return <Textarea style={{marginBottom: '100px'}} id=\"Textarea-12\" l={12} m={12} s={12} value={result}\n                         onChange={e => null} xl={12}/>\n    }\n\n    render() {\n        let rendered = super.render();\n        if (rendered) {\n            return rendered;\n        }\n        let result = JSON.stringify(this.state.data, null, 2);\n        result = this.preprocess_json(result);\n        return (result);\n    }\n}\n\nexport default (NeoJSONView);\n","import React from \"react\";\nimport Chip from \"react-materialize/lib/Chip\";\nimport Icon from \"react-materialize/lib/Icon\";\nimport NeoButton from \"../../component/NeoButton\";\nimport NeoOptionSelect from \"../../component/NeoOptionSelect\";\n\nclass NeoGraphChips extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {}\n    }\n\n\n    render() {\n        let colors = [\"#588c7e\", \"#f2e394\", \"#f2ae72\", \"#d96459\", \"#5b9aa0\", \"#d6d4e0\", \"#b8a9c9\", \"#622569\", \"#ddd5af\", \"#d9ad7c\", \"#a2836e\", \"#674d3c\", \"grey\"]\n        let parsedParameters = this.props.params;\n        if (parsedParameters && parsedParameters.nodeColors) {\n            if (typeof (parsedParameters.nodeColors) === 'string') {\n                colors = [parsedParameters.nodeColors]\n            } else {\n                colors = parsedParameters.nodeColors\n            }\n        }\n        return (\n            <div style={{marginLeft: '10px'}}>\n                {this.props.nodeLabels.map((label, index) => {\n\n                    let defaultValue = (Object.values(this.props.properties[index]).includes('name'))\n                        ? 'name' : Object.keys(this.props.properties[index])[0];\n\n                    return <Chip\n                        key={index}\n                        close={false}\n                        closeIcon={<Icon className=\"close\">close</Icon>}\n                        options={null}\n                        style={{\n                            backgroundColor: colors[index % colors.length],\n                            display: (index < this.props.width * 3.5 || this.props.width == 12) ? \"inline-block\" : \"none\",\n                            color: 'white'\n                        }}\n                    >\n                        {label}\n                        <NeoOptionSelect suffix=\"-name\" label=\"property\" onChange={this.props.onChange}\n                                         value={defaultValue}\n                                         options={this.props.properties[index]}/>\n                    </Chip>\n\n                })}\n\n                <div style={{float: \"right\", marginRight: '10px'}}>\n                    {this.props.page}\n                    <NeoButton color=\"grey lighten-2\" icon='refresh'\n                               onClick={click => this.props.onChange({'label': 'Refresh'})}/>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nexport default (NeoGraphChips);","import React from \"react\";\nimport NeoReport from \"../NeoReport\";\nimport ReactMarkdown from 'react-markdown'\nimport gfm from 'remark-gfm'\n\nclass NeoMarkdownView extends NeoReport {\n    render() {\n        let rendered = super.render();\n        if (rendered) {\n            return rendered;\n        }\n        let markdown = \"\";\n        if (this.props.data){\n            markdown = this.props.data.replace(/\\n\\n/g, \"\\n\\n &nbsp; \\n\\n\").replace(/\\n \\n/g, \"\\n\\n &nbsp; \\n\\n\");\n        }\n        let result = <ReactMarkdown plugins={[gfm]} children={markdown} />\n        return (result);\n    }\n}\n\nexport default (NeoMarkdownView);\n","import React from \"react\";\nimport NeoReport from \"../NeoReport\";\nimport * as d3 from \"d3\";\n\nclass NeoBarChart extends NeoReport {\n\n    componentDidUpdate(prevProps) {\n        super.componentDidUpdate(prevProps);\n        this.componentDidMount();\n    }\n\n    componentDidMount() {\n        let data = this.state.data;\n        let page = this.state.page;\n        let props = this.props;\n        let id = props.id;\n        let parsedParameters = props.params;\n\n        d3.select(\".chart\" + id).select('g').remove()\n        if (!data || data.length === 0) {\n            return\n        }\n        let prop1 = props.propertiesSelected[0];\n        let prop2 = props.propertiesSelected[1];\n        let index1 = prop1 ? Object.keys(data[0]).indexOf(prop1) : 0;\n        let index2 = prop2 ? Object.keys(data[0]).indexOf(prop2) : 1;\n\n\n        data = data.map((row, i) => {\n            return [this.parseChartValue(Object.values(row)[index1], 0, i),\n                this.parseChartValue(Object.values(row)[index2], 1, i)]\n        })\n\n        let labels = {}\n        if (data.length > 0) {\n            Object.keys(this.state.data[0]).forEach(\n                i => labels[i] = i\n            )\n            props.onNodeLabelUpdate(labels);\n        }\n\n        // Set size\n        let {maxY, minY, xTextLength} = this.getDataLimits(data);\n        let digits = Math.log10(Math.abs(maxY));\n        var xShift = ((digits > 1) ? digits * 7 + 18 : Math.abs(digits) * 7 + 32);\n        xShift += (maxY < 0 || minY < 0) ? 10 : 0;\n        var yShift = 20 + xTextLength * 4;\n        var width = props.clientWidth - 100; //-90 + props.width * 105 - xShift * 0.5;\n        var height = -140 + props.height * 100 - yShift;\n        var margin = {top: 0, right: 0, bottom: yShift, left: xShift};\n\n        var svg = d3.select(\".chart\" + id)\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\",\n                \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n\n        var x = d3.scaleBand()\n            .range([0, width])\n            .domain(data.map(function (d) {\n                return d[0];\n            }))\n            .padding(0.2);\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(x))\n            .selectAll(\"text\")\n            .attr(\"transform\", \"translate(-10,0)rotate(-45)\")\n            .style(\"text-anchor\", \"end\");\n\n        var y = d3.scaleLinear()\n            .domain([minY - (maxY - minY) * 0.1, maxY + (maxY - minY) * 0.1])\n            .range([height, 0]);\n        svg.append(\"g\")\n            .call(d3.axisLeft(y));\n\n\n        svg.selectAll(\"mybar\")\n            .data(data)\n            .enter()\n            .append(\"rect\")\n            .attr(\"x\", function (d) {\n                return x(d[0]);\n            })\n            .attr(\"y\", function (d) {\n                if (isNaN(d[1])) {\n                    return 0\n                }\n                return y(d[1]);\n            })\n            .attr(\"width\", x.bandwidth())\n            .attr(\"height\", function (d) {\n                if (isNaN(d[1])) {\n                    return 0\n                }\n                return height - y(d[1]);\n            })\n            .attr(\"fill\", function (d) {\n\n                let color = (parsedParameters && parsedParameters.color) ? (parsedParameters.color) : \"#69b3a2\";\n                return (d[1]) ? color : \"transparent\";\n            })\n            .on(\"mousemove\", function (d) {\n                let prop1 = (props.propertiesSelected[0]) ? props.propertiesSelected[0] : Object.keys(labels)[0];\n                let prop2 = (props.propertiesSelected[1]) ? props.propertiesSelected[1] : Object.keys(labels)[1];\n                d3.select(\".chart-tooltip\")\n                    .style(\"left\", d3.event.pageX - 50 + \"px\")\n                    .style(\"top\", d3.event.pageY - 80 + \"px\")\n                    .style(\"display\", \"inline-block\")\n                    .html(prop1 + \": \" + d[0] + \"<br>\" + prop2 + \": \" + d[1]);\n            })\n            .on(\"mouseout\", function (d) {\n                d3.select(\".chart-tooltip\").style(\"display\", \"none\")\n            });\n\n    }\n\n    getDataLimits(data) {\n        let yValues = data.map(row => row[1]);\n        let categoryLengths = data.map(row => (row[0] ? row[0] : \"\").toString().length);\n        let maxY = Math.max.apply(Math, yValues.filter(y => y !== null && !isNaN(y)));\n        let minY = Math.min.apply(Math, yValues.filter(y => y !== null && !isNaN(y)));\n        let maxX = Math.max.apply(Math, categoryLengths);\n        if (minY === maxY) {\n            minY = minY - 1;\n            maxY = maxY + 1;\n        }\n        if (!isFinite(maxY) || !isFinite((minY))) {\n            maxY = 1;\n            minY = 0;\n        }\n        // to prevent -infinity for maxY = 0\n        if (maxY === 0) {\n            maxY = 0.1;\n        }\n        maxX = Math.min.apply(Math, [maxX, 30])\n        return {maxY, minY, xTextLength: maxX};\n    }\n\n    parseChartValue(value, index, i) {\n        // If there's no data, fill it with some blanks.\n        if (value === null) {\n            if (index === 0) {\n                return 'null [' + i + ']'\n            } else {\n                return NaN\n            }\n        }\n\n        // if it's a number, just return it.\n        if (!isNaN(value)) {\n            return value\n        }\n        // if we are dealing with the y axis, and it's not a number, we obviously want to cancel.\n        if (index === 1) {\n            return NaN\n        }\n        if (typeof (value) === \"object\" && !isNaN(value[\"low\"])) {\n            return value.low\n        }\n\n        if (typeof (value) === \"string\") {\n            return value;\n        }\n\n        if (value && value[\"labels\"] && value[\"identity\"] && value[\"properties\"]) {\n            return value.labels + \"(\" + value.identity + \")\"\n        }\n        if (value && value[\"type\"] && value[\"start\"] && value[\"end\"] && value[\"identity\"] && value[\"properties\"]) {\n            return value.type + \"(\" + value.identity + \")\"\n        }\n        return (value) ? value.toString() : \"\";\n    }\n\n    render() {\n        let rendered = super.render();\n        if (rendered) {\n            return rendered;\n        }\n        return <svg\n            className={'chart chart' + this.props.id + ' iteration' + this.props.page + \" isRunning\" + this.state.running}>\n        </svg>\n    }\n\n}\n\nexport default (NeoBarChart);\n","import React from \"react\";\nimport NeoOptionSelect from \"../../component/NeoOptionSelect\";\n\nclass NeoBarPropertySelect extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {}\n    }\n\n    render() {\n        return (\n            <div className=\"neo-property-select\" style={{marginLeft: '20px', marginTop: \"-8px\"}}>\n                <NeoOptionSelect\n                    defaultValue={(this.props.propertiesSelected[0]) ? this.props.propertiesSelected[0] : Object.values(this.props.values)[0]}\n                    suffix=\"-name\" label=\"Category\"\n                    onChange={this.props.onChange} value={'name'}\n                    options={this.props.categories}/>\n                <NeoOptionSelect\n                    defaultValue={(this.props.propertiesSelected[1]) ? this.props.propertiesSelected[1] : Object.values(this.props.values)[1]}\n                    suffix=\"-name\" label=\"Value\" onChange={this.props.onChange} value={'name'}\n                    options={this.props.values}/>\n            </div>\n        );\n    }\n\n}\n\nexport default (NeoBarPropertySelect);","import React from \"react\";\nimport NeoReport from \"../NeoReport\";\nimport * as d3 from \"d3\";\n\nclass NeoLineChart extends NeoReport {\n\n    componentDidUpdate(prevProps) {\n        super.componentDidUpdate(prevProps);\n        this.componentDidMount();\n    }\n\n    componentDidMount() {\n        let data = this.state.data;\n        let page = this.state.page;\n        let props = this.props;\n        let id = props.id;\n        let parsedParameters = props.params;\n\n        d3.select(\".chart\" + id).select('g').remove()\n        if (!data || data.length === 0) {\n            return\n        }\n        let prop1 = props.propertiesSelected[0];\n        let prop2 = props.propertiesSelected[1];\n        let index1 = prop1 ? Object.keys(data[0]).indexOf(prop1) : 0;\n        let index2 = prop2 ? Object.keys(data[0]).indexOf(prop2) : 1;\n\n\n        data = data.map((row, i) => {\n            return [this.parseChartValue(Object.values(row)[index1], 0, i),\n                this.parseChartValue(Object.values(row)[index2], 1, i)]\n        })\n\n\n        let labels = {}\n        if (data.length > 0) {\n            Object.keys(this.state.data[0]).forEach(\n                i => labels[i] = i\n            )\n            props.onNodeLabelUpdate(labels);\n        }\n\n        data = data.filter(entry => entry[0] !== null && !isNaN(entry[0]) && entry[1] !== null && !isNaN(entry[1]))\n\n        // Set size\n        let {maxY, minY, maxX, minX} = this.getDataLimits(data);\n        var xShift = 40;\n        var yShift = 30;\n\n        var width = props.clientWidth - 100; //-90 + props.width * 105 - xShift * 0.5;\n        var height = -140 + props.height * 100 - yShift;\n        var margin = {top: 0, right: 0, bottom: yShift, left: xShift};\n\n\n        var svg = d3.select(\".chart\" + id)\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\",\n                \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n        // Add X axis --> it is a date format\n        var x = d3.scaleLinear()\n            .domain([minX - (maxX - minX) * 0.02, maxX + (maxX - minX) * 0.04])\n            .range([0, width]);\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(x));\n\n        // Add Y axis\n        var y = d3.scaleLinear()\n            .domain([minY - (maxY - minY) * 0.1, maxY + (maxY - minY) * 0.1])\n            .range([height, 0]);\n        svg.append(\"g\")\n            .call(d3.axisLeft(y));\n\n        // Add the line\n        let line = d3.line()\n            .x(function (d) {\n                return x(d[0])\n            })\n            .y(function (d) {\n                return y(d[1])\n            });\n\n\n        if (parsedParameters && parsedParameters.curve === true) {\n            line.curve(d3.curveMonotoneX)\n        } else if (parsedParameters && parsedParameters.curveLoop === true) {\n            line.curve(d3.curveCardinalClosed)\n        }\n\n        svg.append(\"path\")\n            .datum(data)\n            .attr(\"fill\", \"none\")\n            .attr(\"stroke\", function (d) {\n                return (parsedParameters && parsedParameters.color) ? (parsedParameters.color) : \"steelblue\";\n            })\n            .attr(\"stroke-width\", function (d) {\n                return (parsedParameters && parsedParameters.width) ? (parsedParameters.width) : 1.5;\n            })\n\n            .attr(\"d\", line)\n\n        svg.selectAll(\".dot\")\n            .data(data)\n            .enter().append(\"circle\") // Uses the enter().append() method\n            .attr(\"class\", \"dot\") // Assign a class for styling\n            .attr(\"cx\", function (d) {\n                return x(d[0])\n            })\n            .attr(\"cy\", function (d) {\n                return y(d[1])\n            })\n            .attr(\"fill\", function (d) {\n                return (parsedParameters && parsedParameters.color) ? (parsedParameters.color) : \"steelblue\";\n            })\n\n            .attr(\"r\", function (d) {\n                return (parsedParameters && parsedParameters.radius) ? (parsedParameters.radius) : 3;\n            })\n            .on(\"mousemove\", function (d) {\n                let prop1 = (props.propertiesSelected[0]) ? props.propertiesSelected[0] : Object.keys(labels)[0];\n                let prop2 = (props.propertiesSelected[1]) ? props.propertiesSelected[1] : Object.keys(labels)[1];\n                d3.select(\".chart-tooltip\")\n                    .style(\"left\", d3.event.pageX - 50 + \"px\")\n                    .style(\"top\", d3.event.pageY - 80 + \"px\")\n                    .style(\"display\", \"inline-block\")\n                    .html(prop1 + \": \" + d[0] + \"<br>\" + prop2 + \": \" + d[1]);\n            })\n            .on(\"mouseout\", function (d) {\n                d3.select(\".chart-tooltip\").style(\"display\", \"none\")\n            });\n\n    }\n\n    getDataLimits(data) {\n        let xValues = data.map(row => row[0]);\n        let yValues = data.map(row => row[1]);\n        let maxY = Math.max.apply(Math, yValues.filter(y => y !== null && !isNaN(y)));\n        let minY = Math.min.apply(Math, yValues.filter(y => y !== null && !isNaN(y)));\n        let maxX = Math.max.apply(Math, xValues.filter(x => x !== null && !isNaN(x)));\n        let minX = Math.min.apply(Math, xValues.filter(x => x !== null && !isNaN(x)));\n        if (minY === maxY) {\n            minY = minY - 1;\n            maxY = maxY + 1;\n        }\n        if (minX === maxX) {\n            minX = minX - 1;\n            maxX = maxX + 1;\n        }\n        if (!isFinite(maxY) || !isFinite((minY))) {\n            maxY = 1;\n            minY = 0;\n        }\n        if (!isFinite(maxX) || !isFinite((minX))) {\n            maxX = 1;\n            minX = 0;\n        }\n        // to prevent -infinity for maxY = 0\n        if (maxY === 0) {\n            maxY = 0.1;\n        }\n        if (maxX === 0) {\n            maxX = 0.1;\n        }\n        return {maxY, minY, maxX, minX};\n    }\n\n    parseChartValue(value, index, i) {\n        // If there's no data, fill it with some blanks.\n        if (value === null) {\n            return NaN\n        }\n\n        // if it's a number, just return it.\n        if (!isNaN(value)) {\n            return value\n        }\n        if (typeof (value) === \"object\" && !isNaN(value[\"low\"])) {\n            return value.low\n        }\n\n        // Nothing numeric? just return NaN.\n        return NaN\n    }\n\n    render() {\n        let rendered = super.render();\n        if (rendered) {\n            return rendered;\n        }\n        return <svg\n            className={'chart chart' + this.props.id + ' iteration' + this.props.page + \" isRunning\" + this.state.running}>\n        </svg>\n    }\n\n}\n\nexport default (NeoLineChart);\n","import React from \"react\";\nimport NeoOptionSelect from \"../../component/NeoOptionSelect\";\n\nclass NeoLinePropertySelect extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {}\n    }\n\n    render() {\n        return (\n            <div className=\"neo-property-select\" style={{marginLeft: '20px', marginTop: \"-8px\"}}>\n                <NeoOptionSelect\n                    defaultValue={(this.props.propertiesSelected[0]) ? this.props.propertiesSelected[0] : Object.values(this.props.values)[0]}\n                    suffix=\"-name\" label=\"X-Axis\"\n                    onChange={this.props.onChange} value={'name'}\n                    options={this.props.categories}/>\n                <NeoOptionSelect\n                    defaultValue={(this.props.propertiesSelected[1]) ? this.props.propertiesSelected[1] : Object.values(this.props.values)[1]}\n                    suffix=\"-name\" label=\"Y-Axis\" onChange={this.props.onChange} value={'name'}\n                    options={this.props.values}/>\n            </div>\n        );\n    }\n\n}\n\nexport default (NeoLinePropertySelect);","import React from \"react\";\nimport Textarea from \"react-materialize/lib/Textarea\";\nimport NeoReport from \"../NeoReport\";\nimport NeoOptionSelect from \"../../component/NeoOptionSelect\";\nimport NeoTextInput from \"../../component/NeoTextInput\";\nimport NeoAutoCompleteText from \"../../component/NeoAutoCompleteText\";\nimport neo4j from \"neo4j-driver\";\n\n/**\n * The NeoPropertySelectReport allows a user to select a Cypher parameter based on existing node property values.\n */\nclass NeoPropertySelectReport extends NeoReport {\n\n    constructor(props) {\n        super(props);\n        this.initializeNeo4jConnection();\n    }\n\n    /**\n     * Set up a Neo4j connection that the autocompletion box will use.\n     */\n    initializeNeo4jConnection() {\n        var url = this.props.connection.url;\n        if (!(url.startsWith(\"bolt://\") || url.startsWith(\"bolt+routing://\") || url.startsWith(\"neo4j://\"))) {\n            url = \"neo4j://\" + url;\n        }\n        if (url) {\n            let config = {\n                encrypted: (this.props.connection.encryption === \"on\") ? 'ENCRYPTION_ON' : 'ENCRYPTION_OFF'\n            };\n            var driver = neo4j.driver(url,\n                neo4j.auth.basic(this.props.connection.username, this.props.connection.password),\n                config\n            );\n            this.state = {}\n            this.state.session = driver.session({database: this.props.connection.database});\n        }\n    }\n\n    /**\n     * Render the autocompletion report.\n     */\n    render() {\n        // Render the auto completion box.\n        let content = <div>\n            <NeoAutoCompleteText\n                query={this.props.query}\n                label={this.props.label}\n                property={this.props.property}\n                propertyId={this.props.propertyId}\n                onAutoComplete={this.props.onSelectionChange}\n                changeEventLabel={\"PropertySelectedChanged\"}\n                session={this.state.session}\n                customStyle={{paddingTop: \"5px\", marginBottom: \"200px\", width: \"100%\"}}\n                defaultValue={\"\"}/>\n        </div>\n        return (content);\n    }\n}\n\nexport default (NeoPropertySelectReport);\n","import React, {useRef} from \"react\";\nimport Card from \"react-materialize/lib/Card\";\nimport Icon from \"react-materialize/lib/Icon\";\nimport Textarea from \"react-materialize/lib/Textarea\";\nimport Button from \"react-materialize/lib/Button\";\nimport NeoTable from \"../report/table/NeoTable\";\nimport NeoPagination from \"../report/table/NeoPagination\";\nimport NeoGraphViz from \"../report/graph/NeoGraphVis\";\nimport Col from \"react-materialize/lib/Col\";\nimport NeoCardSettings from \"./NeoCardSettings\";\nimport NeoJSONView from \"../report/json/NeoJSONView\";\nimport NeoGraphChips from \"../report/graph/NeoGraphChips\";\nimport NeoMarkdownView from \"../report/text/NeoMarkdownView\";\nimport NeoBarChart from \"../report/bar/NeoBarChart\";\nimport NeoBarPropertySelect from \"../report/bar/NeoBarPropertySelect\";\nimport NeoLineChart from \"../report/line/NeoLineChart\";\nimport NeoLinePropertySelect from \"../report/line/NeoLinePropertySelect\";\nimport NeoPropertySelectReport from \"../report/select/NeoPropertySelectReport\";\n\nlet tallRowCount = 14;\nlet normalRowCount = 5;\n\n\nclass NeoCardComponent extends React.Component {\n    resize = () => this.stateChanged({\"label\": \"resize\"})\n\n    defaultState = {\n        width: this.props.width,\n        height: this.props.height,\n        action: <div key={0}></div>,\n        type: this.props.type,\n        page: (this.props.page ? Math.min(this.props.page, 200) : 1),\n        query: (this.props.query ? this.props.query : \"\"),\n        labels: [],\n        properties: (this.props.propertiesSelected ? this.props.propertiesSelected : []),\n        propertiesSelected: (this.props.propertiesSelected ? this.props.propertiesSelected : []),\n        parameters: (this.props.parameters) ? (this.props.parameters) : \"\",\n        globalParameters: (this.props.globalParameters) ? (this.props.globalParameters) : {},\n        parsedParameters: {},\n        refresh: (this.props.refresh ? this.props.refresh : 0),\n        title: (this.props.title ? this.props.title : \"\")\n    };\n\n    constructor(props) {\n        super(props);\n        this.stateChanged = this.stateChanged.bind(this);\n        this.updateGraphChips = this.updateGraphChips.bind(this);\n        this.onSelectionChange = this.onSelectionChange.bind(this);\n        this.updateBarPropertySelect = this.updateBarPropertySelect.bind(this);\n        this.updateLinePropertySelect = this.updateLinePropertySelect.bind(this);\n        this.counter = 0;\n        this.state = this.defaultState;\n        this.myRef = React.createRef();\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', this.resize)\n        this.parseParameters(this.props);\n        this.initializeTitleAndSettings();\n        this.counter += 1;\n        this.stateChanged({})\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.resize)\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps !== this.props) {\n            this.counter += 1;\n            this.state = this.defaultState;\n            this.stateChanged({label: \"SettingsSaved\"})\n            this.updateCardSettings()\n            this.cardTitle = <Textarea\n                key={this.counter}\n                onChange={e => this.stateChanged({\"label\": \"ChangedTitle\", value: e.target.value})}\n                noLayout={true}\n                className=\"card-title editable-title\"\n                placeholder={\"Report name...\"}/>;\n        }\n    }\n\n    /**\n     * Initializes the title and settings for the card.\n     */\n    initializeTitleAndSettings() {\n        this.updateSettingsComponent();\n        this.cardTitle = <Textarea\n            onChange={e => this.stateChanged({\"label\": \"ChangedTitle\", value: e.target.value})}\n            noLayout={true}\n            disabled={!this.props.editable}\n            defaultValue={this.state.title}\n            key={this.counter}\n            className=\"card-title editable-title\"\n            placeholder={\"Report name...\"}/>;\n    }\n\n    /**\n     * Central place to handle all updates sent to a NeoCard.\n     * @param update - a key value pair with information on the update.\n     */\n    stateChanged(update) {\n        if (update.label === \"QueryChanged\") {\n            this.state.query = update.value;\n            return\n        }\n        if (update.label === \"CreateError\") {\n            this.props.onChange(update);\n            return\n        }\n        if (update.label === \"CypherError\") {\n            this.state.success = false;\n        }\n        if (update.label === \"CypherSuccess\") {\n            this.state.success = true;\n            return\n        }\n        if (update.label === \"SettingsSaved\") {\n            this.updateCardSettings(update);\n        }\n        if (update.label === \"CategoryChanged\" || update.label === \"X-AxisChanged\") {\n            this.state.propertiesSelected[0] = update.value;\n\n        }\n        if (update.label === \"ValueChanged\" || update.label === \"Y-AxisChanged\") {\n            this.state.propertiesSelected[1] = update.value;\n\n        }\n        if (update.label === \"ChangedTitle\") {\n            this.state.title = update.value;\n            this.props.onChange({\"label\": \"CardStateChanged\", \"id\": this.props.id, \"state\": this.state});\n            return\n        }\n        if (update.label === \"CypherParamsChanged\") {\n            this.state.parameters = update.value;\n            return\n        }\n        if (update.label === \"NodeSelectionUpdated\") {\n            this.state.propertiesSelected[0] = update.value\n            this.updateSettingsComponent();\n        }\n        if (update.label === \"PropertySelectionUpdated\") {\n            this.state.propertiesSelected[1] = update.value\n            this.updateSettingsComponent();\n        }\n        if (update.label === \"PropertySelectionIdUpdated\") {\n            this.state.propertiesSelected[2] = update.value\n            this.updateSettingsComponent();\n        }\n        if (update.label === \"GlobalParametersChanged\") {\n            if (this.state.type !== \"select\") {\n                if (this.state.query.includes(\"$neodash_\")) {\n                    this.state.globalParameters = update.value;\n                    this.parseParameters(this.props)\n                    this.forceRefreshByQueryChange();\n                } else {\n                    return\n                }\n            }\n        }\n        if (update.label === \"RefreshRateChanged\") {\n            this.state.refresh = update.value;\n            return\n        }\n\n        if (update.label === \"CardShiftRight\" || update.label === \"CardShiftLeft\" || update.label === \"CardDelete\") {\n            update.card = this;\n            this.props.onChange(update);\n        }\n        if (update.label === \"propertyChanged\") {\n            let index = update.value.split(\"-\")[0]\n            let value = update.value.split(\"-\")[1]\n            this.state.propertiesSelected[index] = value;\n            this.state.page += 1;\n        }\n        if (update.label === \"Refresh\") {\n            this.state.page += 1;\n        }\n        if (update.label === \"PageChanged\") {\n            this.state.page = update.value;\n        }\n        if (update.label === \"TypeChanged\") {\n            this.state.page = 1;\n            this.state.type = update.value;\n            this.updateSettingsComponent();\n        }\n        if (update.label === \"SizeChanged\") {\n            this.state.width = (update.value % 12 == 0) ? 12 : (update.value % 12);\n            this.state.height = Math.ceil(update.value / 12) * 4;\n        }\n\n        // different settings for the different report types\n        this.state = this.updateReportComponent(this.state);\n        this.setState(this.state);\n        this.props.onChange({\"label\": \"CardStateChanged\", \"id\": this.props.id, \"state\": this.state});\n    }\n\n    updateSettingsComponent() {\n        this.neoCardSettings =\n            <NeoCardSettings refresh={this.state.refresh}\n                             size={this.props.width + ((this.props.height - 4) / 4) * 12}\n                             type={this.state.type}\n                             key={this.counter}\n                             query={this.state.query}\n                             session={this.props.session}\n                             properties={this.state.propertiesSelected}\n                             parameters={this.state.parameters}\n                             onChange={this.stateChanged}/>;\n    }\n\n    updateReportComponent(state) {\n        if (this.state.type === 'table') {\n            this.setCardTypeToTableView();\n        }\n        if (this.state.type === 'bar') {\n            this.setCardTypeToBarChart();\n        }\n        if (this.state.type === 'line') {\n            this.setCardTypeToLineChart();\n        }\n        if (this.state.type === \"graph\") {\n            this.setCardTypeToGraph();\n        }\n        if (this.state.type === 'json') {\n            this.setCardTypeToJSON();\n        }\n        if (this.state.type === 'select') {\n            this.setCardTypeToPropertySelect();\n        }\n        if (this.state.type === 'text') {\n            this.setCardTypeToMarkdown();\n        }\n        return state\n    }\n\n    /**\n     * Refreshes a report by adding/removing a newline at the end of the query.\n     * TODO: Force a refresh of the card component in a much cleaner way.\n     */\n    forceRefreshByQueryChange() {\n        this.state.query = this.state.query.endsWith('\\n') ?\n            this.state.query.substr(0, this.state.query.length - 1) :\n            this.state.query += \"\\n\";\n    }\n\n    setCardTypeToTableView() {\n        this.state.content =\n            <NeoTable connection={this.props.connection}\n                      rows={this.state.height == 4 ? normalRowCount : tallRowCount} page={this.state.page}\n                      query={this.state.query}\n                      stateChanged={this.stateChanged}\n                      params={this.state.parsedParameters}\n                      refresh={this.state.refresh}\n            />\n        this.state.action =\n            <NeoPagination page={this.state.page} key={0} data={this.state.data} onChange={this.stateChanged}/>\n    }\n\n    setCardTypeToBarChart() {\n        this.state.content =\n            <NeoBarChart connection={this.props.connection}\n                         page={this.state.page}\n                         query={this.state.query}\n                         clientWidth={(this.myRef.current) ? this.myRef.current.clientWidth : 0}\n                         id={this.props.id}\n                         stateChanged={this.stateChanged}\n                         propertiesSelected={this.state.propertiesSelected}\n                         onNodeLabelUpdate={this.updateBarPropertySelect}\n                         params={this.state.parsedParameters}\n                         refresh={this.state.refresh}\n                         width={this.state.width}\n                         height={this.state.height}\n            />\n    }\n\n    setCardTypeToLineChart() {\n        this.state.content =\n            <NeoLineChart connection={this.props.connection}\n                          page={this.state.page}\n                          query={this.state.query}\n                          clientWidth={(this.myRef.current) ? this.myRef.current.clientWidth : 0}\n                          id={this.props.id}\n                          stateChanged={this.stateChanged}\n                          propertiesSelected={this.state.propertiesSelected}\n                          onNodeLabelUpdate={this.updateLinePropertySelect}\n                          params={this.state.parsedParameters}\n                          refresh={this.state.refresh}\n                          width={this.state.width}\n                          height={this.state.height}\n            />\n    }\n\n    setCardTypeToGraph() {\n        this.state.page += 1;\n        this.state.content =\n            <NeoGraphViz\n                connection={this.props.connection}\n                query={this.state.query}\n                params={this.state.parsedParameters}\n                clientWidth={(this.myRef.current) ? this.myRef.current.clientWidth : 0}\n                propertiesSelected={this.state.propertiesSelected}\n                onNodeLabelUpdate={this.updateGraphChips}\n                width={this.state.width}\n                id={this.props.id}\n                height={this.state.height} page={this.state.page}\n                stateChanged={this.stateChanged}\n                data={this.state.data}\n                refresh={this.state.refresh}/>\n    }\n\n    setCardTypeToJSON() {\n        this.state.content =\n            <NeoJSONView\n                connection={this.props.connection}\n                query={this.state.query}\n                params={this.state.parsedParameters}\n                data={this.state.data}\n                stateChanged={this.stateChanged}\n                refresh={this.state.refresh}/>\n        this.state.action = <div key={0}></div>\n    }\n\n    setCardTypeToMarkdown() {\n        this.state.content =\n            <NeoMarkdownView\n                connection={this.props.connection}\n                query={'return true'}\n                data={this.state.query}\n                stateChanged={this.stateChanged}\n                refresh={this.state.refresh}/>\n        this.state.action = <div key={0}></div>\n    }\n\n    setCardTypeToPropertySelect() {\n        // Cypher query to create the autocompletion results.\n        if (this.state.propertiesSelected && this.state.propertiesSelected[0] && this.state.propertiesSelected[1]) {\n            let label = this.state.propertiesSelected[0];\n            let property = this.state.propertiesSelected[1];\n            let propertyId = this.state.propertiesSelected[2];\n\n            // This the query used for autocompletion\n            this.state.query = `MATCH (n:\\`` + label + `\\`) \\nWHERE toLower(toString(n.\\`` + property + `\\`)) CONTAINS toLower($input) \\nRETURN n.\\`` + property + `\\` as value LIMIT 4`;\n            this.state.content =\n                <NeoPropertySelectReport\n                    connection={this.props.connection}\n                    query={this.state.query}\n                    label={label}\n                    property={property}\n                    propertyId={propertyId}\n                    parameters={this.state.parsedParameters}\n                    data={this.state.data}\n                    stateChanged={this.stateChanged}\n                    onSelectionChange={this.onSelectionChange}\n                    refresh={this.state.refresh}/>\n            this.state.action = <div key={0}></div>\n        }\n    }\n\n    updateCardSettings(update) {\n        this.parseParameters(this.props);\n        if (this.state.type === \"bar\" || this.state.type === \"line\") {\n            this.state.propertiesSelected = []\n        }\n        if (this.state.type !== \"NONE\") {\n            this.forceRefreshByQueryChange()\n        }\n        this.props.onChange({\"label\": \"CardStateChanged\", \"id\": this.props.id, \"state\": this.state});\n    }\n\n    /**\n     * For selection reports, the selected value has changed. This should be propagated to other reports.\n     */\n    onSelectionChange(label, property, propertyId, value) {\n        this.props.onChange({\n            label: \"GlobalParameterChanged\",\n            value: {label: label, property: property, propertyId: propertyId, value: value}\n        });\n    }\n\n    parseParameters(props) {\n        let parametersAsString = this.state.parameters;\n        let globalParameters = this.state.globalParameters;\n\n        this.state.parsedParameters = (\n            function (parameters) {\n                try {\n                    if (parameters.trim() === \"\") {\n                        return {};\n                    }\n                    let value = JSON.parse(parameters);\n                    if (value.constructor === Object) {\n                        return value;\n                    }\n                    return {};\n                } catch (err) {\n                    props.onChange({\n                        label: \"CreateError\",\n                        value: 'Unable to parse Cypher parameters. ' + err.toString()\n                    })\n                    return {};\n                }\n            })(parametersAsString);\n\n        if (globalParameters) {\n            this.state.parsedParameters = {...this.state.parsedParameters, ...globalParameters}\n        }\n    }\n\n    updateBarPropertySelect(labels) {\n        this.state.page += 1;\n        this.state.action =\n            <NeoBarPropertySelect propertiesSelected={this.state.propertiesSelected} page={this.state.page} key={0}\n                                  data={this.state.data}\n                                  onChange={this.stateChanged}\n                                  categories={labels} values={labels}\n            />\n        this.setState(this.state);\n    }\n\n    updateLinePropertySelect(labels) {\n        this.state.page += 1;\n        this.state.action =\n            <NeoLinePropertySelect propertiesSelected={this.state.propertiesSelected} page={this.state.page} key={0}\n                                   data={this.state.data}\n                                   onChange={this.stateChanged}\n                                   categories={labels} values={labels}\n            />\n\n        this.setState(this.state);\n    }\n\n    updateGraphChips(labels) {\n        this.state.properties = Object.values(labels);\n        if (this.state.labels.toString() !== Object.keys(labels).toString()) {\n            this.state.propertiesSelected = Object.keys(labels).map(l => {\n\n                // If nothing's selected, select the 'name' property. If the name's not available, just pick the first.\n                if (labels[l].includes('name')) {\n                    return \"name\"\n                } else {\n                    return labels[l][0]\n                }\n            });\n\n            this.state.labels = Object.keys(labels);\n            this.stateChanged({label: \"Refresh\"})\n        }\n\n\n        this.state.action = <NeoGraphChips key={0} nodeLabels={Object.keys(labels)}\n                                           width={this.props.width}\n                                           params={this.state.parsedParameters}\n                                           properties={Object.values(labels).map((labelChoices, index) => {\n                                               let options = {}\n                                               labelChoices.forEach(choice =>\n                                                   options[(index + \"-\" + choice)] = choice\n                                               )\n                                               return options;\n                                           })}\n                                           onChange={this.stateChanged}/>;\n\n    }\n\n    render() {\n        let closeIcon = <div\n            style={{'width': '100%', 'height': '60px', 'top': '0px', 'right': '0px', 'position': 'absolute'}}\n            onClick={e => this.stateChanged({label: 'SettingsSaved'})}>\n            <Icon>save</Icon>\n        </div>;\n        return <Col l={this.state.width} m={12} s={12}>\n            <div ref={this.myRef}>\n                <Card\n\n                    actions={[this.state.action]}\n                    style={{height: (this.state.height * 100 + 22 * ((this.state.height / 4) - 1)) + 'px'}}\n                    className={\"neo-card medium white darken-5 paginated-card\"}\n                    closeIcon={\n                        closeIcon\n                    }\n                    revealIcon={(this.props.editable) ? <Icon>more_vert</Icon> : <div></div>}\n                    textClassName=\"black-text\"\n                    title={this.cardTitle}\n                    reveal={this.neoCardSettings}\n                >{this.state.content}   </Card></div>\n        </Col>\n    }\n}\n\n\nclass AddNeoCardComponent extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return <Col l={4} m={12} s={12}><a>\n            <Card actions={[]}\n                  className={\"medium grey lighten-2 button add-neo-card\"}\n                  closeIcon={<Icon>close</Icon>}\n                  revealIcon={<Icon>more_vert</Icon>}\n                  textClassName=\"black-text\"\n                  title=\"\"\n            >\n\n                <Button className=\"btn-floating btn-center-align blue-grey\"\n                        onClick={e => this.props.onClick({'label': 'newCard'})}><Icon>add</Icon></Button>\n            </Card></a></Col>\n    }\n\n}\n\nexport const NeoCard = NeoCardComponent;\nexport const AddNeoCard = AddNeoCardComponent;","import Modal from \"react-materialize/lib/Modal\";\nimport React from \"react\";\n\n\nclass NeoModal extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            json: this.props.json\n        }\n        this.stateChanged = this.props.stateChanged;\n        if (this.stateChanged){\n            this.stateChanged = this.stateChanged.bind(this);\n        }\n        this.componentDidUpdate = this.props.componentDidUpdate;\n\n    }\n\n    render() {\n        return (\n            <Modal\n                style={this.props.style}\n                actions={this.props.actions}\n                bottomSheet={false}\n                fixedFooter={false}\n                header={this.props.header}\n                id={(this.props.footerType) ? (this.props.footerType) : \"NeoModal\"}\n                open={this.props.open}\n                options={{\n                    dismissible: false,\n                    endingTop: '10%',\n                    inDuration: 250,\n                    onCloseEnd: null,\n                    onCloseStart: null,\n                    onOpenEnd: null,\n                    onOpenStart: null,\n                    opacity: 0.5,\n                    outDuration: 250,\n                    preventScrolling: true,\n                    startingTop: '4%'\n                }}\n                root={this.props.root}\n                trigger={this.props.trigger}\n            >\n                {this.props.content}\n            </Modal>\n        )\n    }\n}\n\nexport default (NeoModal);","import React from \"react\";\nimport TextInput from \"react-materialize/lib/TextInput\";\nimport Checkbox from \"react-materialize/lib/Checkbox\";\n\n\nclass NeoCheckBox extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: this.props.defaultValue,\n        }\n\n        this.onChange = this.onChange.bind(this);\n    }\n\n\n    onChange(e) {\n        this.state.value = (e.target.checked) ? \"on\" : \"off\";\n        this.props.onChange({label: this.props.changeEventLabel, value: this.state.value})\n        this.setState(this.state);\n    }\n\n    render() {\n        return <><Checkbox onChange={this.onChange}\n                           value={(this.state.value) ? this.state.value : this.props.defaultValue}\n                           checked={(this.state.value === \"on\")}\n                           id={null}\n                           password={this.props.password}\n                           style={this.props.style} label={this.props.label}\n                           placeholder={this.props.placeholder}\n        /></>;\n    }\n}\n\nexport default (NeoCheckBox);","import React from \"react\";\nimport Button from \"react-materialize/lib/Button\";\nimport Icon from \"react-materialize/lib/Icon\";\n\nclass NeoTextButton extends React.Component {\n    render() {\n        return (\n            <Button floating={false} className={\"btn white right wide-button \" + this.props.color} key={this.props.key}\n                    onClick={this.props.onClick}\n                    href=\"#\">{this.props.text}\n\n                    <Icon className={\"fixed-icon\"}>{this.props.icon}</Icon>\n            </Button>\n        );\n    }\n}\n\nexport default (NeoTextButton);","import React from \"react\";\nimport Section from \"react-materialize/lib/Section\";\nimport Row from \"react-materialize/lib/Row\";\nimport Container from \"react-materialize/lib/Container\";\nimport {AddNeoCard, NeoCard} from \"./card/NeoCard\";\nimport Navbar from \"react-materialize/lib/Navbar\";\nimport Icon from \"react-materialize/lib/Icon\";\nimport NeoModal from \"./component/NeoModal\";\nimport Textarea from \"react-materialize/lib/Textarea\";\nimport NavItem from \"react-materialize/lib/NavItem\";\nimport Button from \"react-materialize/lib/Button\";\nimport Col from \"react-materialize/lib/Col\";\nimport NeoTextInput from \"./component/NeoTextInput\";\nimport neo4j from \"neo4j-driver\";\nimport {Checkbox} from \"react-materialize\";\nimport NeoCheckBox from \"./component/NeoCheckBox\";\nimport NeoTextButton from \"./component/NeoTextButton\";\nimport defaultDashboard from './default_dashboard.json';\n\nclass NeoDash extends React.Component {\n    version = '1.0';\n\n    constructor(props) {\n        super(props);\n\n        // Neo4j Desktop integration\n        let neo4jDesktopApi = window.neo4jDesktopApi;\n        if (neo4jDesktopApi) {\n            let promise = neo4jDesktopApi.getContext();\n            let a = this;\n            promise.then(function (context) {\n\n                let desktopIntegration = new Neo4jDesktopIntegration(context);\n                let neo4j = desktopIntegration.getActiveDatabase();\n                if (neo4j) {\n                    a.connection = {\n                        url: neo4j.connection.configuration.protocols.bolt.url,\n                        database: \"\",\n                        username: neo4j.connection.configuration.protocols.bolt.username,\n                        password: neo4j.connection.configuration.protocols.bolt.password,\n                        encryption: neo4j.connection.configuration.protocols.bolt.tlsLevel === \"REQUIRED\" ? \"on\" : \"off\"\n                    }\n                    a.connect()\n\n                } else {\n                    a.updateConnectionModal(a.connect, true);\n                    a.stateChanged({label: \"HideError\"})\n                }\n            });\n\n        }\n\n        // check the browser cache or use default values.\n        this.connection = {\n            url: (localStorage.getItem('neodash-url')) ? localStorage.getItem('neodash-url') : 'neo4j://localhost:7687',\n            database: (localStorage.getItem('neodash-database')) ? localStorage.getItem('neodash-database') : '',\n            username: (localStorage.getItem('neodash-username')) ? localStorage.getItem('neodash-username') : 'neo4j',\n            password: (localStorage.getItem('neodash-password')) ? localStorage.getItem('neodash-password') : '',\n            encryption: (localStorage.getItem('neodash-encryption')) ? localStorage.getItem('neodash-encryption') : 'off',\n        }\n\n        this.state = {json: '{}', count: 0}\n        if (localStorage.getItem('neodash-dashboard')) {\n            this.state.json = localStorage.getItem('neodash-dashboard');\n        }\n\n        this.stateChanged = this.stateChanged.bind(this);\n        this.loadJson = this.loadJson.bind(this);\n        this.connect = this.connect.bind(this);\n\n        // If not running from desktop, always ask for connection details\n        if (!neo4jDesktopApi) {\n            this.updateConnectionModal(this.connect, true);\n        } else {\n            // If running from desktop, the constructor will set up a connection using the promise.\n            this.stateChanged({label: \"CreateError\", value: \"Trying to connect to your active database...\"});\n        }\n\n\n    }\n\n    componentDidMount() {\n        this.loadJson()\n    }\n\n\n    connect(e) {\n        try {\n            var url = this.connection.url;\n            if (!(url.startsWith(\"bolt://\") || url.startsWith(\"bolt+routing://\") || url.startsWith(\"neo4j://\"))) {\n                url = \"neo4j://\" + url;\n            }\n            let config = {\n                encrypted: (this.connection.encryption === \"on\") ? 'ENCRYPTION_ON' : 'ENCRYPTION_OFF'\n            };\n\n            var driver = neo4j.driver(\n                url,\n                neo4j.auth.basic(this.connection.username, this.connection.password), config)\n            ;\n            this.session = driver.session({database: this.connection.database});\n            this.session\n                .run('return true;')\n                .then(result => {\n                    this.errorModal = null;\n                    this.connected = true;\n\n\n                    this.updateConnectionModal(this.connect, false);\n                    this.loadJson()\n\n                    localStorage.setItem('neodash-database', this.connection.database);\n                    localStorage.setItem('neodash-url', this.connection.url);\n                    localStorage.setItem('neodash-username', this.connection.username);\n                    localStorage.setItem('neodash-password', this.connection.password.toString());\n                    localStorage.setItem('neodash-encryption', this.connection.encryption);\n\n\n                })\n                .catch(error => {\n                    this.stateChanged({\n                        label: \"CreateError\",\n                        value: error['message']\n                    });\n                });\n        } catch (error) {\n            this.stateChanged({\n                label: \"CreateError\",\n                value: error['message']\n            });\n        }\n    }\n\n\n    loadJson() {\n        if (!this.connected) {\n            this.state.title = 'NeoDash ';\n            return\n        }\n        if (this.state.json !== null) {\n            if (this.state.json.trim() == \"\") {\n                this.setDefaultDashboard();\n                return\n            }\n            try {\n                let loaded = JSON.parse(this.state.json)\n                if (loaded.version && loaded.version !== this.version) {\n                    this.stateChanged({\n                        label: \"CreateError\",\n                        value: \"Invalid NeoDash version \" + loaded.version + \". Dashboard was not loaded.\"\n                    });\n                    return\n                }\n\n                if (loaded.reports) {\n                    this.state.title = (loaded.title) ? loaded.title : 'NeoDash ';\n                    this.state.editable = loaded.editable;\n                    this.state.cardState = loaded.reports.map(c => []);\n                    this.state.cards = loaded.reports.map((report, index) => {\n                            if (report.type) {\n                                return <NeoCard\n                                    connection={this.connection}\n                                    globalParameters={this.state.globalParameters}\n                                    page={report.page} width={report.width} height={report.height}\n                                    kkey={this.state.count + index} key={this.state.count + index} id={index}\n                                    session={this.session}\n                                    onChange={this.stateChanged}\n                                    editable={this.state.editable}\n                                    type={report.type} propertiesSelected={report.properties}\n                                    title={report.title}\n                                    query={report.query} parameters={report.parameters}\n                                    refresh={report.refresh}/>\n                            } else if (this.state.editable) {\n                                return <AddNeoCard key={99999999} id={99999999} onClick={this.stateChanged}/>\n                            }\n                            return <div></div>\n                        }\n                    );\n                    this.state.count = this.state.count + ((loaded.reports.length) ? loaded.reports.length : 0) - 1;\n                } else {\n                    this.setDefaultDashboard();\n                }\n\n                this.stateChanged({})\n            } catch (e) {\n                if (!this.state.cards) {\n                    this.setDefaultDashboard();\n                } else {\n                    this.stateChanged({label: \"CreateError\", value: e.toString() + \". Dashboard was not loaded.\"});\n                }\n            }\n        }\n    }\n\n\n    setDefaultDashboard() {\n        let state = this.state;\n        this.state.json = JSON.stringify(defaultDashboard);\n        this.loadJson()\n    }\n\n    stateChanged(update) {\n        if (update.label === \"ConnectURLChanged\") {\n            this.connection.url = update.value;\n        }\n        if (update.label === \"DatabaseChanged\") {\n            this.connection.database = update.value;\n        }\n        if (update.label === \"EncryptionChanged\") {\n            this.connection.encryption = update.value;\n        }\n        if (update.label === \"UsernameChanged\") {\n            this.connection.username = update.value;\n        }\n        if (update.label === \"GlobalParameterChanged\") {\n            this.handleGlobalParameterChange(update);\n        }\n        if (update.label === \"PasswordChanged\") {\n            this.connection.password = update.value;\n        }\n        if (update.label === \"HideError\") {\n            this.errorModal = null;\n            this.state.count += 1;\n        }\n        if (update.label === \"CreateError\") {\n            this.handleError(update.value);\n            this.state.count += 1;\n        }\n        if (update.label === \"SaveModalUpdated\") {\n            this.state.json = update.value;\n        }\n        if (update.label === \"ReportTitleChanged\") {\n            this.state.title = update.value;\n        }\n        if (update.label === \"CardStateChanged\") {\n            this.state.cardState[this.state.cards.indexOf(this.state.cards.filter(c => c.props.id === update.id)[0])] = update.state;\n        }\n        if (update.label === 'newCard') {\n            this.handleNewCardCreate();\n        }\n\n        if (update.label === 'CardShiftLeft') {\n            let card = this.state.cards.filter((card) => card.props.id === update.card.props.id)[0]\n            let index = this.state.cards.indexOf(card);\n            if (index != 0) {\n                let otherCard = this.state.cards[index - 1];\n                this.state.cards.splice(index - 1, 2, card, otherCard);\n\n                let cardState = this.state.cardState[index];\n                let otherCardState = this.state.cardState[index - 1];\n                this.state.cardState.splice(index - 1, 2, cardState, otherCardState);\n            }\n        }\n        if (update.label === 'CardShiftRight') {\n            let card = this.state.cards.filter((card) => card.props.id === update.card.props.id)[0]\n            let index = this.state.cards.indexOf(card);\n            if (index != this.state.cards.length - 2) {\n                let otherCard = this.state.cards[index + 1];\n                this.state.cards.splice(index, 2);\n                this.state.cards.splice(index, 0, otherCard, card);\n\n                let cardState = this.state.cardState[index];\n                let otherCardState = this.state.cardState[index + 1];\n                this.state.cardState.splice(index, 2);\n                this.state.cardState.splice(index, 0, otherCardState, cardState);\n            }\n        }\n        if (update.label === 'CardDelete') {\n            let card = this.state.cards.filter((card) => card.props.id === update.card.props.id)[0]\n            let index = this.state.cards.indexOf(card);\n            this.state.cards.splice(index, 1);\n            this.state.cardState.splice(index, 1);\n        }\n        if (update.label !== \"SaveModalUpdated\") {\n            this.handleUpdateSavedJSON();\n        }\n        this.setState(this.state);\n    }\n\n    handleNewCardCreate() {\n        let newCard = <NeoCard connection={this.connection}\n                               globalParameters={this.state.globalParameters}\n                               kkey={this.state.count}\n                               session={this.session}\n                               width={4} height={4}\n                               id={this.state.count}\n                               editable={this.state.editable}\n                               key={this.state.count}\n                               onChange={this.stateChanged} type='table'/>;\n        this.state.count += 1;\n        this.state.cards.splice(this.state.cards.length - 1, 0, newCard);\n        this.state.cardState.splice(this.state.cardState.length - 1, 0, {\n            \"title\": \"\",\n            \"width\": 4,\n            \"height\": 4,\n            \"type\": \"table\",\n            \"query\": \"\",\n            \"page\": 1,\n            \"propertiesSelected\": [],\n            \"parameters\": {},\n            \"refresh\": 3600\n        });\n    }\n\n    /**\n     * propagate the list of updated global parameters to each of the reports.\n     */\n    handleGlobalParameterChange(update) {\n        if (!this.state.globalParameters) {\n            this.state.globalParameters = {}\n        }\n        let newGlobalParameterValue = update.value.value;\n        let label = update.value.label;\n        let property = update.value.property;\n        let propertyId = (update.value.propertyId) ? \"_\" + update.value.propertyId : \"\";\n        let newGlobalParameter = \"neodash_\" + this.toLowerCaseSnakeCase(label) + \"_\" + this.toLowerCaseSnakeCase(property) + propertyId;\n\n        if (newGlobalParameterValue !== \"\") {\n            this.state.globalParameters[newGlobalParameter] = newGlobalParameterValue;\n        } else {\n            delete this.state.globalParameters[newGlobalParameter];\n        }\n        this.state.cardState.forEach(card => {\n            if (card.content) {\n                card.content.props.stateChanged({\n                    label: \"GlobalParametersChanged\",\n                    value: this.state.globalParameters\n                })\n            }\n        })\n    }\n\n    /**\n     * Helper function to convert a string with capital letters and spaces to a lowercase snake case verison.\n     */\n    toLowerCaseSnakeCase(value) {\n        return value.toLowerCase().replace(/ /g,\"_\");\n    }\n\n    handleError(content) {\n        if (content.startsWith(\"Could not perform discovery. No routing servers available.\")) {\n            let encryption = this.connection.encryption;\n            content = \"Unable to connect to the specified Neo4j database. \" +\n                \"The database might be unreachable, or it does not accept \" + ((encryption === \"on\") ? \"encrypted\" : \"unencrypted\") + \" connections. \" + content;\n\n        }\n        let header = (content.startsWith(\"Trying to connect\")) ? \"Connecting...\" : \"Error\";\n        if (content === \"If you have questions about NeoDash, or want to build a production grade Neo4j front-end: reach out to Niels at niels.dejong@neo4j.com.\") {\n            header = \"Contact\"\n        }\n\n        this.errorModal = <NeoModal header={header}\n                                    style={{'maxWidth': '550px'}}\n                                    open={true}\n                                    trigger={null}\n                                    content={<p>{content}</p>}\n                                    key={this.state.count}\n                                    id={this.state.count}\n                                    root={document.getElementById(\"root\")}\n                                    actions={[\n                                        <Button flat modal=\"close\"\n                                                node=\"button\"\n                                                waves=\"red\">Close</Button>\n                                    ]}/>\n    }\n\n    handleUpdateSavedJSON() {\n        if (!this.connected) {\n            return\n        }\n\n        let value = {\n            \"title\": this.state.title,\n            \"version\": \"1.0\",\n            \"editable\": this.state.editable,\n            \"reports\": this.state.cardState.map(q => {\n                return {\n                    title: q.title,\n                    width: q.width,\n                    height: q.height,\n                    type: q.type,\n                    query: q.query,\n                    page: q.page,\n                    properties: q.propertiesSelected,\n                    parameters: q.parameters,\n                    refresh: q.refresh\n                }\n            })\n        };\n        let newJson = JSON.stringify(value, null, 2);\n        this.state.json = newJson;\n\n    }\n\n    handleGetInTouchClick(neodash) {\n        let contactMessage = \"If you have questions about NeoDash, or want to build a production grade Neo4j front-end: reach out to Niels at niels.dejong@neo4j.com.\";\n        neodash.stateChanged({label: \"CreateError\", value: contactMessage})\n    }\n\n\n    generateSaveLoadModal(loadJson) {\n        let trigger = <NavItem href=\"\" onClick={e => this.stateChanged({})}>Load/Export</NavItem>;\n\n        this.neoSaveLoadModal =\n            <NeoModal header={\" Load/Export Dashboard as JSON\"}\n                      root={document.getElementById(\"root\")}\n                      json={this.state.json}\n                      placeholder={\"Paste a dashboard JSON file here...\"}\n                      actions={[\n                          <Button style={{position: 'absolute', right: '20px', top: '20px'}} modal=\"close\"\n                                  node=\"button\"\n                                  onClick={loadJson}\n                                  waves=\"green\">Save</Button>\n                      ]}\n                      trigger={\n                          trigger\n                      }\n                      componentDidUpdate={function (prevProps) {\n                          if (prevProps.json !== this.props.json) {\n                              this.state.json = this.props.json;\n                              localStorage.setItem('neodash-dashboard', this.state.json);\n                              this.setState(this.state);\n                          }\n                      }}\n                      stateChanged={function (e) {\n                          this.setState(this.state);\n                      }}\n                      content={<Textarea style={{minHeight: '500px'}} id=\"Textarea-12\" l={12} m={12} s={12} xl={12}\n                                         onChange={e => {\n                                             this.state.json = e.target.value;\n                                             this.setState(this.state)\n\n                                         }} value={this.state.json}\n                                         placeholder={this.props.placeholder}/>}\n            />;\n    }\n\n\n    updateConnectionModal(connect, open) {\n        this.neoConnectionModal =\n            <NeoModal\n                header={'Connect to Neo4j'}\n                style={{'maxWidth': '520px'}}\n                key={this.state.count}\n                id={this.state.count}\n                footerType={\"modal-dark-footer\"}\n                open={open}\n                root={document.getElementById(\"root\")}\n\n                actions={[\n                    <p>\n                        NeoDash is a tool for prototyping Neo4j dashboards.\n                        Building a production-grade front-end instead? &nbsp;\n                        <u><a style={{color: \"white\"}} href=\"#\"\n                              onClick={e => this.handleGetInTouchClick(this)}>Get in touch</a></u>!\n                    </p>\n\n                ]}\n                trigger={\n                    <NavItem href=\"\" onClick={e => this.stateChanged({})}>Neo4j Connection</NavItem>\n                }\n                content={<div className=\"modal-input-text\" style={{margin: '20px'}}>\n                    <img style={{height: '38px', right: '20px', top: '25px', position: 'absolute'}} src={\"neo.png\"}/>\n                    <p>&nbsp;</p>\n                    <form onSubmit={event => {\n                        event.preventDefault();\n                        connect()\n                    }}>\n                        <NeoTextInput onChange={this.stateChanged} changeEventLabel={\"ConnectURLChanged\"}\n                                      style={{'width': '100%'}} label={\"Connect URL\"}\n                                      defaultValue={this.connection.url}/>\n                        <NeoTextInput onChange={this.stateChanged} changeEventLabel={\"DatabaseChanged\"}\n                                      label={\"Database\"}\n                                      placeholder={'neo4j'}\n                                      defaultValue={this.connection.database}\n                        />\n                        <NeoTextInput onChange={this.stateChanged} changeEventLabel={\"UsernameChanged\"}\n                                      label={\"Username\"}\n                                      defaultValue={this.connection.username}/>\n                        <NeoTextInput onChange={this.stateChanged} changeEventLabel={\"PasswordChanged\"}\n                                      password={true}\n                                      label={\"Password\"}\n                                      defaultValue={this.connection.password}\n                                      placeholder={''}/>\n                        <div style={{marginTop: \"10px\"}}>\n\n                            <NeoCheckBox onChange={this.stateChanged}\n                                         changeEventLabel={\"EncryptionChanged\"}\n                                         label={\"Encrypted Connection\"}\n                                         defaultValue={(this.connection.encryption === \"on\") ? \"on\" : \"off\"}>\n\n                            </NeoCheckBox>\n                            <NeoTextButton right modal=\"close\"\n                                           color={\"neo-color\"}\n                                           icon='play_arrow'\n                                           node=\"button\"\n                                           onClick={connect}\n                                           text={\"connect\"}\n                                           waves=\"green\"></NeoTextButton>\n                        </div>\n\n\n                        <input style={{display: 'none'}} type=\"submit\"/></form>\n\n                </div>}\n            />;\n    }\n\n    render() {\n        this.generateSaveLoadModal(this.loadJson);\n        let title = <Textarea disabled={!this.state.editable} noLayout={true}\n                              style={{\"width\": '500px'}}\n                              className=\"card-title editable-title\"\n                              key={this.state.count}\n                              value={this.state.title}\n                              onChange={e => this.stateChanged({\n                                  label: \"ReportTitleChanged\",\n                                  value: e.target.value\n                              })}/>;\n        let navbar = <Navbar alignLinks=\"right\" brand={title} centerLogo id=\"mobile-nav\"\n                             menuIcon={<Icon>menu</Icon>}\n                             style={{backgroundColor: 'black'}}>\n            {this.neoSaveLoadModal}\n            {this.neoConnectionModal}\n        </Navbar>;\n        return (\n            <>\n                {navbar}\n                {(this.errorModal) ? this.errorModal : \"\"}\n                <Container>\n                    <div className=\"chart-tooltip\"></div>\n                    <Section>\n                        <Row>\n                            {this.state.cards}\n                        </Row>\n                    </Section>\n                </Container>\n            </>\n        );\n    }\n}\n\nclass Neo4jDesktopIntegration {\n    constructor(context) {\n        this.desktopContext = context;\n    }\n\n    getActiveDatabase() {\n\n        for (let pi = 0; pi < this.desktopContext.projects.length; pi++) {\n            let prj = this.desktopContext.projects[pi];\n            for (let gi = 0; gi < prj.graphs.length; gi++) {\n                let grf = prj.graphs[gi];\n                if (grf.status == 'ACTIVE') {\n                    return grf;\n                }\n            }\n        }\n        return null;\n    }\n}\n\nexport default (NeoDash);","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Footer from \"react-materialize/lib/Footer\";\nimport NeoDash from \"./NeoDash\";\nimport appLogo from './logo.png'\n\nconst root = document.getElementById(\"root\");\nconst url = \"https://github.com/nielsdejong/neodash/\";\nconst link = <u><a href={\"https://github.com/nielsdejong/neodash/blob/master/README.md\"} style={{color: \"dimgrey\"}}\n                   target={\"_blank\"}>NeoDash 1.0.6 - Neo4j Dashboard Builder</a></u>\nconst copyrights = <div style={{textAlign: 'center', color: 'dimgrey'}}>{link}</div>;\nconst footer = <Footer style={{backgroundColor: '#ddd'}} moreLinks={copyrights}></Footer>\nconst logo = () => {\n    return (<div className=\"logo\"><img src={appLogo} alt=\"logo\"/></div>)\n}\n\nconst Main = () => {\n\n    document.title = \"NeoDash - Neo4j Dashboard Builder\"\n\n    // hard reset option - append a '?reset=true' to the URL if dashboards break.\n    const search = window.location.search;\n    const params = new URLSearchParams(search);\n    const reset = params.get('reset');\n    if (reset === \"true\") {\n        let text = localStorage.getItem(\"neodash-dashboard\");\n        localStorage.removeItem(\"neodash-dashboard\")\n        return <div><p>Cache cleared. Your latest dashboard:</p><code>{text}</code></div>\n    }\n    var neoDash = <NeoDash/>;\n\n\n    return (\n        <>{neoDash}{footer}</>\n    );\n};\n\n\n\n\nReactDOM.render(<Main/>, root);\n"],"sourceRoot":""}